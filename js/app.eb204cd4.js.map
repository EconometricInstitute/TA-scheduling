{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/scheduling/WrapUp.vue?ff0b","webpack:///./src/components/prepare/WrapUp.vue?26f6","webpack:///./src/components/preferences/Capabilities.vue?9a85","webpack:///./src/components/preferences/WrapUp.vue?8f7e","webpack:///./src/components/preferences/Welcome.vue?bb70","webpack:///./src/components/scheduling/SchedulingTable.vue?0941","webpack:///./src/components/preferences/WeeklySlotPreference.vue?e0f5","webpack:///./src/components/prepare/Welcome.vue?2140","webpack:///./src/App.vue","webpack:///./src/App.vue?315a","webpack:///./src/handle-sheet.ts","webpack:///./src/data.ts","webpack:///./src/scheduling.ts","webpack:///./src/utils.ts","webpack:///./src/store/index.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/views/Preferences.vue","webpack:///./src/components/preferences/Welcome.vue","webpack:///./src/components/preferences/Welcome.vue?5aa6","webpack:///./src/components/preferences/Welcome.vue?9904","webpack:///./src/components/preferences/Welcome.vue?7714","webpack:///./src/components/preferences/Capabilities.vue","webpack:///./src/components/preferences/Capabilities.vue?c1a1","webpack:///./src/components/preferences/Capabilities.vue?f72a","webpack:///./src/components/preferences/Capabilities.vue?8476","webpack:///./src/components/preferences/SlotPreferences.vue","webpack:///./src/components/preferences/WeeklySlotPreference.vue","webpack:///./src/components/preferences/PreferenceSelect.vue","webpack:///./src/components/preferences/PreferenceSelect.vue?d84d","webpack:///./src/components/preferences/PreferenceSelect.vue?594f","webpack:///./src/components/preferences/PreferenceSelect.vue?0ed3","webpack:///./src/components/preferences/WeeklySlotPreference.vue?2238","webpack:///./src/components/preferences/WeeklySlotPreference.vue?4d31","webpack:///./src/components/preferences/WeeklySlotPreference.vue?64b4","webpack:///./src/components/preferences/SlotPreferences.vue?328b","webpack:///./src/components/preferences/SlotPreferences.vue?5b78","webpack:///./src/components/preferences/SlotPreferences.vue?1b65","webpack:///./src/components/preferences/GroupPreferences.vue","webpack:///./src/components/preferences/KeyPreferences.vue","webpack:///./src/components/preferences/KeyPreferences.vue?5646","webpack:///./src/components/preferences/KeyPreferences.vue?d98d","webpack:///./src/components/preferences/KeyPreferences.vue?0e6e","webpack:///./src/components/preferences/GroupPreferences.vue?ad11","webpack:///./src/components/preferences/GroupPreferences.vue?ccf6","webpack:///./src/components/preferences/GroupPreferences.vue?bf66","webpack:///./src/components/preferences/ConsecutivePreferences.vue","webpack:///./src/components/preferences/ConsecutivePreferences.vue?6679","webpack:///./src/components/preferences/ConsecutivePreferences.vue?3eee","webpack:///./src/components/preferences/ConsecutivePreferences.vue?08f4","webpack:///./src/components/preferences/DifferentDaysPreference.vue","webpack:///./src/components/preferences/DifferentDaysPreference.vue?7d5a","webpack:///./src/components/preferences/DifferentDaysPreference.vue?3215","webpack:///./src/components/preferences/DifferentDaysPreference.vue?60e4","webpack:///./src/components/preferences/WrapUp.vue","webpack:///./src/components/preferences/WrapUp.vue?8252","webpack:///./src/components/preferences/WrapUp.vue?2005","webpack:///./src/components/preferences/WrapUp.vue?3e41","webpack:///./src/views/Preferences.vue?b652","webpack:///./src/views/Preferences.vue?dadd","webpack:///./src/views/Preferences.vue?053c","webpack:///./src/views/Scheduling.vue","webpack:///./src/components/scheduling/Welcome.vue","webpack:///./src/components/util/FileDropZone.vue","webpack:///./src/components/util/FileDropZone.vue?768d","webpack:///./src/components/util/FileDropZone.vue?c7f0","webpack:///./src/components/util/FileDropZone.vue?335b","webpack:///./src/components/scheduling/Welcome.vue?cbc7","webpack:///./src/components/scheduling/Welcome.vue?c84b","webpack:///./src/components/scheduling/Welcome.vue?90c7","webpack:///./src/components/scheduling/LoadTAPreferences.vue","webpack:///./src/components/scheduling/LoadTAPreferences.vue?7ec4","webpack:///./src/components/scheduling/LoadTAPreferences.vue?1883","webpack:///./src/components/scheduling/LoadTAPreferences.vue?0c56","webpack:///./src/components/scheduling/TAEmployment.vue","webpack:///./src/components/scheduling/TAEmployment.vue?5185","webpack:///./src/components/scheduling/TAEmployment.vue?4499","webpack:///./src/components/scheduling/TAEmployment.vue?fff1","webpack:///./src/components/scheduling/SchedulingTable.vue","webpack:///./src/components/scheduling/TADetails.vue","webpack:///./src/components/scheduling/TADetails.vue?4771","webpack:///./src/components/scheduling/TADetails.vue?7d66","webpack:///./src/components/scheduling/TADetails.vue?ee34","webpack:///./src/optimize.ts","webpack:///./src/components/scheduling/SchedulingTable.vue?fee0","webpack:///./src/components/scheduling/SchedulingTable.vue?2174","webpack:///./src/components/scheduling/SchedulingTable.vue?460f","webpack:///./src/components/scheduling/SchedulingConfiguration.vue","webpack:///./src/components/scheduling/SchedulingConfiguration.vue?3ab7","webpack:///./src/components/scheduling/SchedulingConfiguration.vue?8990","webpack:///./src/components/scheduling/SchedulingConfiguration.vue?a107","webpack:///./src/components/scheduling/WrapUp.vue","webpack:///./src/export-sheet.ts","webpack:///./src/components/scheduling/WrapUp.vue?908e","webpack:///./src/components/scheduling/WrapUp.vue?f83b","webpack:///./src/components/scheduling/WrapUp.vue?4649","webpack:///./src/views/Scheduling.vue?10b5","webpack:///./src/views/Scheduling.vue?8a40","webpack:///./src/views/Scheduling.vue?1d28","webpack:///./src/views/Prepare.vue","webpack:///./src/components/prepare/Welcome.vue","webpack:///./src/components/prepare/Welcome.vue?602c","webpack:///./src/components/prepare/Welcome.vue?6fa6","webpack:///./src/components/prepare/Welcome.vue?325b","webpack:///./src/components/prepare/WrapUp.vue","webpack:///./src/components/prepare/WrapUp.vue?e328","webpack:///./src/components/prepare/WrapUp.vue?b54e","webpack:///./src/components/prepare/WrapUp.vue?ab94","webpack:///./src/views/Prepare.vue?0a51","webpack:///./src/views/Prepare.vue?c398","webpack:///./src/views/Prepare.vue?f508","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/components/scheduling/TADetails.vue?ce72","webpack:///./src/components/util/FileDropZone.vue?ff42","webpack:///./src/components/scheduling/LoadTAPreferences.vue?7212","webpack:///./src/components/scheduling/Welcome.vue?05c0","webpack:///./src/App.vue?1dff"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","_v","staticRenderFns","script","component","retrieveInstance","url","Promise","resolve","reject","req","XMLHttpRequest","open","responseType","onload","Uint8Array","response","workbook","read","type","cellDates","workbookToInstance","onerror","send","firstSheet","Sheets","SheetNames","records","processSheet","sessions","map","recordToSession","bundles","bundleSessions","courseNames","Set","rec","askSlots","bundlesPerWeeklySlot","ws","weeklySlot","maxConsecutiveSessions","computeMaxConsecutive","maxDifferentDays","computeMaxWeekdays","groupTypes","getGroupTypes","capabilities","getCapabilities","askConsecutiveSessions","askDifferentDays","askGroupTypes","askCapabilities","caps","flatMap","ses","requiredCapabilities","sort","types","filter","group","plenary","groupType","max","cur","currentYear","currentWeek","slot","dayjs","timeSlot","start","weekOfYear","week","dayInWeek","day","year","add","Math","size","clear","maxDist","ses_cmp","prev","td","time_dist","next","timeUnit","prevEnd","end","getTime","nextStart","ws_to_num","dayOfWeek","startHour","startMinute","sb_cmp","fst","snd","ws_cmp","ts1Start","ts2Start","ts1End","ts2End","aggregator","Map","index","bundle","entries","weeklySlotKey","has","set","values","bundleKey","grp","makeName","groupCount","count","postFix","remain","charCode","String","fromCharCode","floor","removePlenary","groupPostfix","filtered","canBundle","sessionToWeeklySlot","_bundles$get","session","ts","console","log","getDay","getHours","getMinutes","durationInHours","ceil","sheet_record","id","courseCode","isEnglish","endsWith","parseGroup","staffNeeded","location","raw_input","stripPrefix","input","replace","groupTypeMatch","match","groupNumberMatch","postFixMatch","sheet","raw_range","range","utils","decode_range","first_row","header","row","e","record","col","cell_address","encode_cell","cell","v","field","extend","Preference","PreferenceColors","DayOfWeek","ViolationType","weeklySlotToString","hour","minute","endHour","endMinute","weekNumberString","addPrefix","weeks","splitted","last","prefix","seqToStr","join","downloadInstanceJson","instance","filename","replaceAll","element","document","createElement","body","JSON","stringify","setAttribute","encodeURIComponent","style","display","appendChild","click","removeChild","downloadPreferencesJson","preferences","userId","downloadSchedulingJson","state","downloadString","seq","emptyInstance","instanceToDefaultPreferences","cap","slotPreferences","NEUTRAL","groupTypePreferences","schedulingComment","consecutivePreferences","differentDaysPreferences","mapConvBool","mapConvNum","mapConvStr","emptyUserAvailability","val","findDataValue","el","boundaryType","current","boundary","toUpperCase","tagName","dataset","undefined","parentElement","computeBundlesToSchedule","computeStaffNeeded","compareSessions","ses1","ses2","start1","Date","start2","startDiff","end1","end2","addMaps","map1","map2","inline","old","mapMaxValue","Infinity","computeBundles","computeBundlesPerTA","assignment","availability","bundlesPerTa","ta","computeAssignmentMatrix","wsKey","taList","b","computeTotalWorkloads","workload","computeBundleWorkload","computeMaxWeeklyWorkloads","computeWeeklyWorkloads","weekLoad","computeBundleViolations","Array","prefs","capabilityLoop","issue","CAPABILITY_VIOLATION","text","UNAVAILABLE","TIMESLOT_VIOLATION","bundle1","bundle2","checkOverlap","OVERLAP_VIOLATION","configToScore","config","pref","FAVORED","favoredScore","STRONGLY_FAVORED","stronglyFavoredScore","neutralScore","UNFAVORED","unfavoredScore","STRONGLY_UNFAVORED","stronglyUnfavoredScore","unavailableScore","areConsecutive","session1","session2","diffMinutes","consecutiveThresholdMinutes","computeConsecutive","sesList","counts","prevSession","computeObjective","bundleViolations","workloadViolations","uncoveredScore","groupMap","av","slotPref","slotScore","slotPreferenceFactor","groupPref","groupScore","groupPreferenceFactor","consecutiveSessionFactor","dayMap","days","numDays","multipleDayFactor","tas","base","multiTAFactor","pow","multiTAExponent","lst","violationScore","computeWorkloadViolations","workloads","weeklyWorkloads","idx","totalWorkload","WORKLOAD_VIOLATION","maxWeeklyWorkload","computeAssignedSessions","bundlesPerTA","computeBundleWeeklyWorkloads","subMap","s1Start","s1End","s2Start","s2End","computeBundleWorkloads","computeScheduleInformation","matrix","objective","assignedSessions","computeFromState","taAvailability","currentAssignment","configuration","defaultSchedulingConfiguration","Vue","use","Vuex","Store","fill","mutations","setInstance","payload","setCapability","capability","status","setConsecutivePref","preference","setDifferentDaysPref","setGroupTypePref","setSlotPref","setUserId","setSchedulingComment","setTAPreferences","addTAPreferences","assignBundleToTa","bundleIndex","taIndex","setAssignment","setTotalWorkload","setMaxWeeklyWorkload","setConfiguration","importState","getters","bundlesPerSlot","_state$instance","entry","scheduleInformation","fullState","actions","loadInstance","context","src","parse","commit","fetch","then","json","jsonObj","catch","err","Vuetify","model","step","callback","$$v","expression","on","course","Capabilities","__decorate","State","Component","staticClass","change","k","Mutation","staticStyle","_setup","items","PreferenceSelect","constructor","changePreference","newVal","$emit","allowUnavailable","keys","excludes","includes","Prop","default","WeeklySlotPreference","setPref","Getter","components","SlotPreferences","downloadTestJson","_setupProxy","transform","KeyPreferences","keyTransform","toString","Emit","consecutive","ConsecutivePreferences","num","DifferentDaysPreferences","download","App","isActive","Welcome","GroupPreferences","WrapUp","ref","accept","error","dragover","stopPropagation","FileDropZone","super","currentFiles","dragStart","ev","dragging","dragEnd","preventDefault","dataTransfer","checkValidFile","item","opt","acceptOptions","validate","allowMultiple","file","acceptError","drop","files","valResult","autoSubmit","submit","changeFile","target","$refs","inputEl","split","trim","stateLoaded","reader","FileReader","addEventListener","processFile","readAsText","_ev$target","LoadTAPreferences","TAEmployment","changeTotal","setTotal","changeWeekly","setWeekly","performGreedy","$event","_l","backgroundColor","idx2","dragEnter","_s","clearBundle","class","violation","weeklyMaxLoads","refInFor","visible","colors","setVisible","TADetails","canAddBundleOverlap","assigned","other","canAddBundleWeeklyWorkload","toAdd","newMap","maxValue","compatibilityMatrix","info","bundleIdx","bundleWeeklyLoad","taBundles","possible","computeGreedyActions","bundleOptions","f","taOptions","rowIdx","colIdx","choices","taIdx","a1","a2","minChoices","a","greedy","maxSteps","seed","minChoice","stateCopy","improve","improvementFound","iteration","stepFn","minChoiceGreedyStep","fullGreedyStep","rng","MersenneTwister19937","autoSeed","compat","action","sample","newAssignments","newAssignment","best","bestAssignment","newInfo","assignee","shuffle","lastDragBundle","forEach","idToName","nameToId","first","fullName","showDetails","detailDialogs","table","svgDocument","elementToSVG","inlineResources","documentElement","svgString","XMLSerializer","serializeToString","dragging2","reset","Ref","tadetails","updateConfig","SchedulingConfigurationPage","newConfig","setConfig","createTASpreadSheet","XLSX","book_new","Props","Title","information","overviewTypeMap","computeGroupsPerTa","overviewGroupMap","addOverviewSheet","sheetArray","toLocaleString","addSheet","computeCourseGroupMap","_result$get","computeTAsPerGroup","addToSheetArray","categories","cat","subList","wb","sheetName","width","aoa_to_sheet","colProps","wch","tasks","task","createGroupSpreadSheet","groups","downloadTASpreadsheet","writeFile","downloadGroupSpreadsheet","downloadTAXLSX","downloadGroupXLSX","Scheduling","loadtapreferences","SchedulingTable","employment","PrepareWelcom","readAsArrayBuffer","buffer","copyText","copyLink","snackbar","snackbarText","jsonString","Base64","encode","origin","instanceHash","copyToClipboard","instanceLink","format","VueRouter","routes","path","Preferences","Prepare","router","process","updateHash","hash","substring","decode","store","dispatch","productionTip","vuetify","h","$mount"],"mappings":"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","file":"js/app.eb204cd4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/TA-scheduling/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([5,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=style&index=0&id=48dd6482&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=style&index=0&id=1d76de7f&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Capabilities.vue?vue&type=style&index=0&id=10052e32&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=style&index=0&id=25f42562&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=style&index=0&id=6ff815ca&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchedulingTable.vue?vue&type=style&index=0&id=769dcae9&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WeeklySlotPreference.vue?vue&type=style&index=0&id=58a224cc&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=style&index=0&id=5dbdf480&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"nav\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Preferences\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/scheduling\"}},[_vm._v(\"Scheduling\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/prepare\"}},[_vm._v(\"Prepare\")])],1),_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5803021b&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&id=5803021b&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Session, Group, WeeklySlot, Bundle, SchedulingInstance, IndexedBundle } from './data';\nimport { read, Sheet, utils, WorkBook } from \"xlsx\";\n\nimport dayjs from 'dayjs';\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\ndayjs.extend(weekOfYear);\n\n//import LZUTF8 from 'lzutf8';\n\nexport function retrieveInstance(url='timetable-test.xlsx'): Promise<SchedulingInstance> {\n    return new Promise((resolve, reject) => {\n        const req = new XMLHttpRequest();\n        req.open(\"GET\", url, true);\n        req.responseType = \"arraybuffer\";\n        req.onload = () => {\n            const data = new Uint8Array(req.response);\n            const workbook = read(data, {type:\"array\", cellDates: true});\n            resolve(workbookToInstance(workbook));\n            /*\n            const firstSheet = workbook.Sheets[workbook.SheetNames[0]];\n            const records = processSheet(firstSheet);\n            const sessions = records.map(recordToSession);\n            const bundles = bundleSessions(sessions);\n            const bundlesPerSlot = bundlesPerWeeklySlot(bundles);\n            console.log(bundlesPerSlot);\n            const json_raw = JSON.stringify(bundlesPerSlot);\n            const json_comp = LZUTF8.compress(json_raw, {outputEncoding: 'Base64'});\n            const json_decomp = LZUTF8.decompress(json_comp, {inputEncoding: 'Base64'});\n            console.log(json_comp);\n            console.log(json_raw.length, json_comp.length, json_decomp.length);\n            */\n        }\n        req.onerror = () => reject();\n        req.send()\n    });\n}\n\nexport function workbookToInstance(workbook: WorkBook): SchedulingInstance {\n    const firstSheet = workbook.Sheets[workbook.SheetNames[0]];\n    const records = processSheet(firstSheet);\n    const sessions = records.map(recordToSession);\n    const bundles = bundleSessions(sessions);\n    const courseNames = [...new Set(records.map(rec => rec['Description'] + ' ('+rec['Course code']+')'))]\n    const askSlots = bundlesPerWeeklySlot(bundles).map(ws => ws.weeklySlot);\n    const maxConsecutiveSessions = computeMaxConsecutive(sessions);\n    const maxDifferentDays = computeMaxWeekdays(sessions);\n    const groupTypes = getGroupTypes(sessions);\n    const capabilities = getCapabilities(sessions);\n    return {\n        courseNames,\n        bundles,\n        askSlots,\n        askConsecutiveSessions: maxConsecutiveSessions > 1,\n        maxConsecutiveSessions,\n        askDifferentDays: maxDifferentDays > 1,\n        maxDifferentDays,\n        askGroupTypes: groupTypes.length > 1,\n        groupTypes,\n        askCapabilities: capabilities.length > 1,\n        capabilities\n    };\n}\n\nfunction getCapabilities(sessions: Session[]): string[] {\n    const caps = [...new Set(sessions.flatMap(ses => ses.requiredCapabilities))];\n    caps.sort();\n    return caps;\n}\n\nfunction getGroupTypes(sessions: Session[]): string[] {\n    const types = [...new Set(sessions.filter(ses => !ses.group.plenary).map(ses => ses.group.groupType))];\n    types.sort();\n    return types;\n}\n\nfunction computeMaxWeekdays(sessions: Session[]): number {\n    let max = 0;\n    const cur = new Set();\n    let currentYear = -1;\n    let currentWeek = -1;\n    for (const ses of sessions) {\n        const slot = dayjs(ses.timeSlot.start);\n        const weekOfYear = slot.week();\n        const dayInWeek = slot.day();\n        const year = slot.year();\n        if (currentWeek === weekOfYear && year === currentYear) {\n            cur.add(dayInWeek);\n        }\n        else {\n            max = Math.max(cur.size, max);\n            cur.clear();\n            currentWeek = weekOfYear;\n            currentYear = year;\n        }\n    }\n    return max;\n}\n\n// TODO: this method is not entirely correct, but it will be enough for now\nfunction computeMaxConsecutive(sessions: Session[], maxDist=15): number {\n    sessions.sort(ses_cmp);\n    let prev = null;\n    let cur = 0, max = 0;\n    for (const ses of sessions) {\n        if (prev != null) {\n            const td = time_dist(prev, ses);\n            if (td > 0 && td <= maxDist) {\n                cur++;\n                max = Math.max(cur, max);\n            }\n            else if (td > 0) {\n                cur = 0;\n            }\n        }\n        prev = ses;\n    }\n    return max;\n}\n\ninterface sheet_header {\n    [key: number]: string;\n}\n\ninterface sheet_record {\n    // eslint-disable-next-line\n    [key: string]: any;\n}\n\ninterface slot_bundles {\n    weeklySlot: WeeklySlot;\n    bundles: IndexedBundle[];\n}\n\nfunction time_dist(prev: Session, next: Session, timeUnit=60000): number {\n    const prevEnd = prev.timeSlot.end.getTime();\n    const nextStart = next.timeSlot.start.getTime();\n    return (nextStart - prevEnd) / timeUnit;\n}\n\nfunction ws_to_num(ws: WeeklySlot): number {\n    return ws.dayOfWeek * 24 * 60 + ws.startHour * 60 + ws.startMinute;\n}\n\nfunction sb_cmp(fst: slot_bundles, snd: slot_bundles): number {\n    return ws_cmp(fst.weeklySlot, snd.weeklySlot);\n}\n\nfunction ws_cmp(fst: WeeklySlot, snd: WeeklySlot): number {\n    return ws_to_num(fst) - ws_to_num(snd);\n}\n\nfunction ses_cmp(fst: Session, snd: Session): number {\n    const ts1Start = fst.timeSlot.start.getTime();\n    const ts2Start = snd.timeSlot.start.getTime();\n    const ts1End = fst.timeSlot.end.getTime();\n    const ts2End = snd.timeSlot.end.getTime();\n    if (ts1Start == ts2Start) {\n        return ts1End - ts2End;\n    }\n    return ts1Start - ts2Start;\n}\n\n\nexport function bundlesPerWeeklySlot(bundles: Bundle[]): slot_bundles[] {\n    const aggregator = new Map();\n    for (const [index,bundle] of bundles.entries()) {\n        const key = weeklySlotKey(bundle.weeklySlot);\n        if (!aggregator.has(key)) {\n            aggregator.set(key, [{index, ...bundle}]);\n        }\n        else {\n            aggregator.get(key).push({index, ...bundle});\n        }\n    }\n    \n    const result: slot_bundles[] = [];\n    for (const bundles of aggregator.values()) {\n        result.push({weeklySlot: bundles[0].weeklySlot, bundles});\n    }\n    result.sort(sb_cmp);\n    return result;\n}\n\nfunction weeklySlotKey(ws: WeeklySlot): string {\n    return ws.dayOfWeek+'__'+ ws.startHour + '__' + ws.startMinute;\n}\n\nfunction bundleKey(ws: WeeklySlot, grp: Group): string {\n    return weeklySlotKey(ws) + '__' + grp.name;\n}\n\nfunction makeName(group: Group, groupCount: Map<string,number>): string {\n    const count = groupCount.get(group.name);\n    let postFix = '';\n    if (count) {\n        groupCount.set(group.name, count+1);\n        let remain = count;\n        while (remain > 0) {\n            if (remain > 26) {\n                const charCode = remain % 26;\n                postFix += String.fromCharCode(97+charCode);\n                remain = Math.floor(remain / 26);\n            }\n            else {\n                postFix += String.fromCharCode(97+remain);\n                remain = 0;\n            }\n        }\n    }\n    else {\n        groupCount.set(group.name, 1);\n        postFix = 'a';\n    }\n    return group.name + '-' + postFix;\n}\n\nfunction bundleSessions(sessions: Session[], removePlenary=true, groupPostfix=true): Bundle[] {\n    const filtered = sessions.filter( ses => (!ses.group.plenary || !removePlenary) && ses.canBundle );\n    const groupCount: Map<string,number> = new Map();\n    const bundles: Map<string,Bundle> = new Map();\n    for (const ses of filtered) {\n        const ws = sessionToWeeklySlot(ses)\n        const grp = ses.group;\n        const key =  bundleKey(ws, grp);\n        if (!bundles.has(key)) {          \n            const name = groupPostfix ? makeName(grp, groupCount) : grp.name;\n            bundles.set(key, {\n                name,\n                group: ses.group,\n                weeklySlot: ws,\n                sessions: [ses]\n            });\n        }\n        else {\n            bundles.get(key)?.sessions.push(ses);\n        }\n    }\n    return [...bundles.values()];\n}\n\nfunction sessionToWeeklySlot(session: Session, timeUnit=3600000): WeeklySlot {\n    const ts = session.timeSlot;\n    console.log(ts);\n    const dayOfWeek = ts.start.getDay()\n    const startHour = ts.start.getHours();\n    const startMinute = ts.start.getMinutes();\n    const durationInHours = Math.ceil((ts.end.getTime() - ts.start.getTime()) / timeUnit);\n    return {\n        dayOfWeek,\n        startHour,\n        startMinute,\n        durationInHours\n    }\n}\n\nfunction recordToSession(sheet_record: sheet_record, id: number): Session {\n    const courseCode = sheet_record['Course code'];\n    const start = sheet_record['Start'];\n    const end = sheet_record['End'];\n    const timeSlot = {\n        start, end\n    }\n    const isEnglish = courseCode.endsWith('X') || courseCode.endsWith('S');\n    const group = parseGroup(sheet_record['Group'], courseCode);\n    const requiredCapabilities = [];\n    if (isEnglish) {\n        requiredCapabilities.push('English');\n    }\n    else {\n        requiredCapabilities.push('Dutch');\n    }\n    return {\n        timeSlot,\n        staffNeeded: 1,\n        canBundle: true,\n        location: sheet_record['Location(s)'],\n        id,\n        type: sheet_record['Type'],\n        group,\n        requiredCapabilities\n    }\n}\n\nfunction parseGroup(raw_input: string, courseCode: string, stripPrefix='Group '): Group {\n    const input = raw_input.replace(stripPrefix, '');\n    if (input === 'Plenary') {\n        return {\n            groupType: input,\n            plenary: true,\n            name: input\n        }\n    }\n\n    const groupTypeMatch = input.match(/^[A-Za-z]+/);\n    const groupNumberMatch = input.match(/[0-9]+$/);\n    if (groupTypeMatch && groupNumberMatch) {\n        return {\n            name: input,\n            groupType: groupTypeMatch[0],\n            plenary: false\n        }\n    }\n    const postFixMatch = courseCode.match(/[A-Za-z]$/)\n    return {\n        name: input + (postFixMatch ? ('-' + postFixMatch[0]) : ''),\n        groupType: input + (postFixMatch ? ('-' + postFixMatch[0]) : ''),\n        plenary: false\n    }\n}\n\nfunction processSheet(sheet: Sheet): sheet_record[] {\n    const raw_range = sheet['!ref'];\n    if (!raw_range) {\n        throw 'Invalid Spreadsheet';\n    }\n    const range = utils.decode_range(raw_range);\n    let first_row = true;\n    const result: sheet_record[] = [];\n    const header: sheet_header = {};\n    console.log(sheet);\n    for (let row = range.s.r; row <= range.e.r; row++) {\n        const record: sheet_record = {};\n        for (let col = range.s.c; col <= range.e.c; col++) {\n            const cell_address = utils.encode_cell({r: row, c: col});\n            const cell = sheet[cell_address];\n            if (!cell) {\n                continue;\n            }\n            if (first_row) {\n                header[col] = cell.v;\n            }\n            else {\n                const field = header[col];\n                record[field] = cell.v\n            }\n        }\n        if (!first_row) {\n            result.push(record)\n        }\n        else {\n            first_row = false;\n        }\n    }\n    return result;\n}\n","export interface NumberPreferences {\n  [index: number]: Preference;\n}\n\nexport interface StringPreferences {\n  [index: string]: Preference\n}\n\nexport interface StringBoolean {\n  [index: string]: boolean\n}\n\nexport interface UserPreferences {\n  capabilities: StringBoolean;\n  consecutivePreferences: NumberPreferences;\n  groupTypePreferences: StringPreferences;\n  userId: string;\n  differentDaysPreferences: NumberPreferences;\n  slotPreferences: StringPreferences;\n  schedulingComment: string;\n}\n\nexport interface UserAvailability {\n  preferences: UserPreferences;\n  totalWorkload: number;\n  maxWeeklyWorkload: number;\n}\n\nexport enum Preference {\n  UNAVAILABLE = 'UNAVAILABLE',\n  STRONGLY_UNFAVORED = 'STRONGLY_UNFAVORED',\n  UNFAVORED = 'UNFAVORED',\n  NEUTRAL = 'NEUTRAL',\n  FAVORED = 'FAVORED',\n  STRONGLY_FAVORED = 'STRONGLY_FAVORED'\n}\n\nexport enum PreferenceColors {\n  UNAVAILABLE = '#888888',\n  STRONGLY_UNFAVORED = '#ff6b6b',\n  UNFAVORED = '#ffadad',\n  NEUTRAL = '#fffa70',\n  FAVORED = '#ccffcc',\n  STRONGLY_FAVORED = '#75ff75'\n}\n\nexport interface Timeslot {\n  start: Date;\n  end: Date;\n}\n\nexport interface Group {\n  groupType: string;\n  name: string;\n  plenary: boolean;\n}\n\nexport interface Session {\n  timeSlot: Timeslot;\n  staffNeeded: number;\n  canBundle: boolean;\n  location: string;\n  id: number;\n  type: string;\n  group: Group;\n  requiredCapabilities: string[];\n}\n\nexport interface AssignedSession extends Session{\n  userId: string;\n}\n\nexport interface WeeklySlot {\n  durationInHours: number;\n  dayOfWeek: DayOfWeek;\n  startHour: number;\n  startMinute: number;\n}\n\nexport interface Bundle {\n  sessions: Session[];\n  name: string;\n  group: Group;\n  weeklySlot: WeeklySlot;\n}\n\nexport interface IndexedBundle extends Bundle{\n  index: number;\n}\n\nexport enum DayOfWeek {\n  SUNDAY = 0, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY\n}\n\nexport interface SchedulingInstance {\n  courseNames: string[];\n  bundles: Bundle[];\n  askSlots: WeeklySlot[];\n  askConsecutiveSessions: boolean;\n  maxConsecutiveSessions: number;\n  askDifferentDays: boolean;\n  maxDifferentDays: number;\n  askGroupTypes: boolean;\n  groupTypes: string[];\n  askCapabilities: boolean;\n  capabilities: string[];\n}\n\nexport interface SchedulingConfiguration {\n  favoredScore: number;\n  stronglyFavoredScore: number;\n  neutralScore: number;\n  unfavoredScore: number;\n  stronglyUnfavoredScore: number;\n  unavailableScore: number;\n  slotPreferenceFactor: number;\n  groupPreferenceFactor: number;\n  consecutiveSessionFactor: number;\n  multipleDayFactor: number;\n  multiTAExponent: number;\n  multiTAFactor: number;\n  violationScore: number;\n  uncoveredScore: number;\n  consecutiveThresholdMinutes: number;\n}\n\nexport interface SchedulingState {\n  instance: SchedulingInstance;\n  taAvailability: UserAvailability[];\n  currentAssignment: number[];\n  configuration: SchedulingConfiguration;\n}","import { AssignedSession, Bundle, IndexedBundle, Preference, SchedulingConfiguration, SchedulingInstance, SchedulingState, Session, UserAvailability } from \"@/data\";\nimport { compareSessions, computeStaffNeeded, weeklySlotToString, addMaps } from \"./utils\";\nimport dayjs from 'dayjs';\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\ndayjs.extend(weekOfYear);\n\nfunction computeBundles(instance: SchedulingInstance): IndexedBundle[] {\n    console.log(instance);\n    const result = [];\n    let index = 0;\n    for (const bundle of instance.bundles) {\n        const n = computeStaffNeeded(bundle);\n        for (let i=0; i < n; i++) {\n            result.push({index, ...bundle});\n            index++;\n        }\n    }\n    return result;\n}\n\nfunction computeBundlesPerTA(assignment: number[], availability: UserAvailability[], bundles: IndexedBundle[]): IndexedBundle[][] {\n    const bundlesPerTa: IndexedBundle[][] = [];\n\n    for (let i=0; i < availability.length+1; i++) {\n        bundlesPerTa[i] = []\n    }\n    for (let i=0; i < assignment.length; i++) {\n        const ta = assignment[i];\n        const bundle = bundles[i];\n        if (ta != -1) {\n            bundlesPerTa[ta].push(bundle);\n        }\n        else {\n            bundlesPerTa[bundlesPerTa.length-1].push(bundle);\n        }\n    }\n\n    return bundlesPerTa;\n}\n\nfunction computeAssignmentMatrix(instance: SchedulingInstance, bundlesPerTa: IndexedBundle[][], availability: UserAvailability[]): IndexedBundle[][][]{\n    // TODO: the current design of data stuff doesn't seem that stable, unfortunately...\n    //const bundleMap = getters.bundlesPerSlot;\n\n    const result: IndexedBundle[][][] = [];\n    for (const weeklySlot of instance.askSlots) {\n        const wsKey = weeklySlotToString(weeklySlot);\n        const row = []\n        for (let i=0; i < availability.length+1; i++) {\n            const taList = bundlesPerTa[i].filter(b => weeklySlotToString(b.weeklySlot) === wsKey);\n            row.push(taList);\n        }\n        result.push(row);\n    }\n    return result;\n}\n\nfunction computeTotalWorkloads(availability: UserAvailability[], bundlesPerTa: IndexedBundle[][]): number[] {\n    const result = [];\n    for (let i=0; i < availability.length; i++) {\n        let workload = 0;\n        for (const bundle of bundlesPerTa[i]) {\n            workload += computeBundleWorkload(bundle);\n        }\n        result.push(workload);\n    }\n    return result;\n}\n\nfunction computeMaxWeeklyWorkloads(availability: UserAvailability[], bundlesPerTa: IndexedBundle[][]): number[] {\n    const result = [];\n    for (let i=0; i < availability.length; i++) {\n        const map = computeWeeklyWorkloads(bundlesPerTa[i]);\n        let workload = 0;\n        for (const weekLoad of map.values()) {\n            workload = Math.max(workload, weekLoad);\n        }\n        result.push(workload);\n    }\n    return result;\n\n}\n\nfunction computeBundleViolations(bundles: IndexedBundle[], availability: UserAvailability[], bundlesPerTa: IndexedBundle[][]): Violation[][] {\n    const result = new Array(bundles.length);\n    for (let i=0; i < result.length; i++) {\n        result[i] = [];\n    }\n    for (let ta=0; ta < availability.length; ta++) {\n        const prefs = availability[ta].preferences;\n        const bundles = bundlesPerTa[ta];\n        for (const bundle of bundles) {\n            // Check capabilities\n            capabilityLoop:\n            for (const session of bundle.sessions) {\n                for (const cap of session.requiredCapabilities) {\n                    if (!prefs.capabilities[cap]) {\n                        const issue = {type: ViolationType.CAPABILITY_VIOLATION, text: `${prefs.userId} does not have capability '${cap}' required to teach one or more sessions in bundle ${bundle.name}`};\n                        result[bundle.index].push(issue);\n                        break capabilityLoop;\n                    }\n                }\n            }\n            // Check for unavailable timeslots\n            const ws = weeklySlotToString(bundle.weeklySlot);\n            if (!prefs.slotPreferences[ws] ||\n                 prefs.slotPreferences[ws] === Preference.UNAVAILABLE) {\n                const issue = {type: ViolationType.TIMESLOT_VIOLATION, text: `${prefs.userId} is unavailable at time slot ${ws} to teach sessions in bundle ${bundle.name}`};\n                result[bundle.index].push(issue);\n            }\n        }\n\n        // Check for Overlap\n        for (let i=0; i < bundles.length; i++) {\n            for (let j=i+1; j < bundles.length; j++) {\n                const bundle1 = bundles[i];\n                const bundle2 = bundles[j];\n                if (checkOverlap(bundle1, bundle2)) {\n                    const issue = {type: ViolationType.OVERLAP_VIOLATION, text: `${prefs.userId} teaches both bundle ${bundle1.name} and ${bundle2.name}, but these have sessions that overlap in time.`};\n                    result[bundle1.index].push(issue);\n                    result[bundle2.index].push(issue);\n                }\n            }\n        }    \n    }\n    return result;\n}\n\nfunction configToScore(config: SchedulingConfiguration, pref: Preference): number {\n    switch(pref) {\n        case Preference.FAVORED:\n            return config.favoredScore;\n        case Preference.STRONGLY_FAVORED:\n            return config.stronglyFavoredScore;\n        case Preference.NEUTRAL:\n            return config.neutralScore;\n        case Preference.UNFAVORED:\n            return config.unfavoredScore;\n        case Preference.STRONGLY_UNFAVORED:\n            return config.stronglyUnfavoredScore;\n        case Preference.UNAVAILABLE:\n            return config.unavailableScore;\n    }\n    console.log(pref);\n    return config.neutralScore;\n    throw `The preference ${pref} was not recognized.`\n}\n\nfunction areConsecutive(session1: Session, session2: Session, config: SchedulingConfiguration): boolean {\n    const end1 = new Date(session1.timeSlot.end).getTime();\n    const start2 = new Date(session2.timeSlot.start).getTime();\n    const diffMinutes = (start2 - end1) / 60000;\n    return diffMinutes <= config.consecutiveThresholdMinutes;\n}\n\nfunction computeConsecutive(sesList: Session[], config: SchedulingConfiguration): number[] {\n    const counts = [];\n    let count = 0;\n    let prevSession = null;\n    for (const session of sesList) {\n        if (prevSession == null) {\n            count = 0;\n        }\n        else if (!areConsecutive(prevSession, session, config)) { \n            counts.push(count);\n            count = 0;\n        }\n        count++;\n        prevSession = session;\n    }\n    counts.push(count);\n    return counts;\n}\n\nfunction computeObjective(config: SchedulingConfiguration, assignment: number[], availability: UserAvailability[],\n                            bundlesPerTa: IndexedBundle[][], bundleViolations: Violation[][],\n                            workloadViolations: Violation[]): number {\n    let result = 0;\n    \n    // Uncovered sessions\n    result += config.uncoveredScore * assignment.filter(i => i == -1).length;\n\n    const groupMap = new Map();\n\n    for (let ta=0; ta < availability.length; ta++) {\n        const av = availability[ta];\n        const prefs = av.preferences;\n        \n        const sesList: Session[] = [];\n        \n        for (const bundle of bundlesPerTa[ta]) {\n            const n = bundle.sessions.length;\n            // Adding timeslot preferences\n            const ws = weeklySlotToString(bundle.weeklySlot);\n            const slotPref = prefs.slotPreferences[ws];\n            const slotScore = configToScore(config, slotPref);\n            result += config.slotPreferenceFactor * slotScore * n;\n\n            // Adding group preferences\n            const groupPref = prefs.groupTypePreferences[bundle.group.groupType];\n            const groupScore = configToScore(config, groupPref);\n            result += config.groupPreferenceFactor * groupScore * n;\n\n            // Add the sessions\n            for (const session of bundle.sessions) {\n                sesList.push(session);\n            }\n\n            // Track the number of unique TA's per group\n            const group = bundle.group.name;\n            if (!groupMap.has(group)) {\n                groupMap.set(group, new Set());\n            }\n            groupMap.get(group).add(ta);\n        }\n\n        // Analyze all the sessions for:\n        sesList.sort(compareSessions);\n        const counts = computeConsecutive(sesList, config);\n        for (const count of counts) {\n            const pref = prefs.consecutivePreferences[count];\n            if (pref) {\n                result += configToScore(config, pref) * config.consecutiveSessionFactor;\n            }\n        }\n\n\n        // For each week, compute the 'days of week' score to add\n        const dayMap = new Map();\n        for (const session of sesList) {\n            const start = dayjs(session.timeSlot.start);\n            const weekOfYear = start.week();\n            const dayOfWeek = start.day();\n            if (!dayMap.has(weekOfYear)) {\n                dayMap.set(weekOfYear, new Set());\n            }\n            dayMap.get(weekOfYear).add(dayOfWeek);\n        }\n        for (const days of dayMap.values()) {\n            const numDays = days.size;\n            const pref = prefs.differentDaysPreferences[numDays];\n            if (pref) {\n                result += config.multipleDayFactor * configToScore(config, pref);\n            }\n        }\n    }\n\n    // Add multiple TA's per group factor\n    for (const set of groupMap.values()) {\n        const tas = set.size;\n        const base = Math.max(0, tas - 1);\n        result += config.multiTAFactor * Math.pow(base, config.multiTAExponent);\n    }\n    \n    // TODO: And violations?\n    for (const lst of bundleViolations) {\n        result += config.violationScore * lst.length;\n    }\n    result += config.violationScore * workloadViolations.length;\n\n    return result;\n}\n\nfunction computeWorkloadViolations(workloads: number[], weeklyWorkloads: number[],\n                                    availability: UserAvailability[]): Violation[] {\n    const result = [];\n    for (const [idx, av] of availability.entries()) {\n        if (workloads[idx] > av.totalWorkload) {\n            result.push({type: ViolationType.WORKLOAD_VIOLATION, text:`Maximum total workload of ${av.preferences.userId} violated`});\n        }\n        if (weeklyWorkloads[idx] > av.maxWeeklyWorkload) {\n            result.push({type: ViolationType.WORKLOAD_VIOLATION, text:`Maximum weekly workload of ${av.preferences.userId} violated`});\n        }\n    }\n    return result;\n}\n\nfunction computeBundleWorkload(bundle: Bundle): number {\n    let workload = 0;\n    for (const session of bundle.sessions) {\n        const start = new Date(session.timeSlot.start);\n        const end = new Date(session.timeSlot.end);\n        workload += (end.getTime() - start.getTime()) / 3600000;                \n    }\n    return workload;\n}\n\nfunction computeAssignedSessions(availability: UserAvailability[], bundlesPerTA: IndexedBundle[][]): AssignedSession[] {\n    const result = [];\n    for (const [idx,av] of availability.entries()) {\n        const userId = av.preferences.userId;\n        for (const bundle of bundlesPerTA[idx])  {\n            for (const session of bundle.sessions) {\n                result.push({...session, userId});\n            }\n        }\n    }\n    return result;\n}\n\nexport function computeBundleWeeklyWorkloads(bundle: Bundle): Map<number,number> {\n    const map = new Map();\n    for (const session of bundle.sessions) {\n        const start = new Date(session.timeSlot.start);\n        const end = new Date(session.timeSlot.end);\n        const workload = (end.getTime() - start.getTime()) / 3600000;\n        const week = dayjs(start).week();\n        if (map.has(week)) {\n            map.set(week, map.get(week) + workload);\n        }\n        else {\n            map.set(week, workload);\n        }\n    }\n    return map;\n}\n\nexport function computeWeeklyWorkloads(bundles: Bundle[]): Map<number,number> {\n    const map = new Map();\n    for (const bundle of bundles) {\n        const subMap = computeBundleWeeklyWorkloads(bundle);\n        addMaps(map, subMap, true);\n    }\n    return map;\n}\n\nexport function checkOverlap(bundle1: Bundle, bundle2: Bundle): boolean {\n    // TODO: if weekly slots do not overlap, we can skip the loop.\n    for (const session1 of bundle1.sessions) {\n        const s1Start = new Date(session1.timeSlot.start).getTime();\n        const s1End = new Date(session1.timeSlot.end).getTime();\n        for (const session2 of bundle2.sessions) {\n            const s2Start = new Date(session2.timeSlot.start).getTime();\n            const s2End = new Date(session2.timeSlot.end).getTime();\n            if (s1Start <= s2End && s1End >= s2Start) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n\nexport function computeBundleWorkloads(bundles: Bundle[]): number[] {\n    return bundles.map(computeBundleWorkload);\n}\n\nexport function computeScheduleInformation(instance: SchedulingInstance,\n                                           availability: UserAvailability[],\n                                           assignment: number[],\n                                           config: SchedulingConfiguration): ScheduleInformation {\n    console.log(instance);\n    const bundles = computeBundles(instance);\n    const bundlesPerTa = computeBundlesPerTA(assignment, availability, bundles);\n    const matrix = computeAssignmentMatrix(instance, bundlesPerTa, availability);\n    const workloads = computeTotalWorkloads(availability, bundlesPerTa);\n    const weeklyWorkloads = computeMaxWeeklyWorkloads(availability, bundlesPerTa);\n    const bundleViolations = computeBundleViolations(bundles, availability, bundlesPerTa);\n    const workloadViolations = computeWorkloadViolations(workloads, weeklyWorkloads, availability);\n    const objective = computeObjective(config, assignment, availability, bundlesPerTa, bundleViolations, workloadViolations);\n    const assignedSessions = computeAssignedSessions(availability, bundlesPerTa);\n    return {\n        instance,\n        availability,\n        assignment,\n        bundles,\n        bundlesPerTa,\n        matrix,\n        workloads,\n        weeklyWorkloads,\n        workloadViolations,\n        bundleViolations,\n        objective,\n        assignedSessions\n    };\n}\n\nexport function computeFromState(state: SchedulingState, assignment?: number[]): ScheduleInformation {\n    if (assignment) {\n        return computeScheduleInformation(state.instance, state.taAvailability, assignment, state.configuration);\n    }\n    return computeScheduleInformation(state.instance, state.taAvailability, state.currentAssignment, state.configuration);\n}\n\nexport function defaultSchedulingConfiguration(): SchedulingConfiguration {\n    return {\n        stronglyFavoredScore: 3,\n        favoredScore: 1,\n        neutralScore: 0,\n        unfavoredScore: -1,\n        stronglyUnfavoredScore: -3,\n        unavailableScore: -50,\n        slotPreferenceFactor: 1,\n        groupPreferenceFactor: 0.25,\n        consecutiveSessionFactor: 1,\n        multipleDayFactor: 1,\n        multiTAExponent: 1.5,\n        multiTAFactor: -5,\n        violationScore: -100,\n        uncoveredScore: -250,\n        consecutiveThresholdMinutes: 20\n    }\n}\n\n\n\nexport enum ViolationType {\n    CAPABILITY_VIOLATION,\n    TIMESLOT_VIOLATION,\n    OVERLAP_VIOLATION,\n    WORKLOAD_VIOLATION\n}\n\nexport interface Violation {\n    type: ViolationType;\n    text: string;\n}\n\nexport interface ScheduleInformation {\n    instance: SchedulingInstance;\n    availability: UserAvailability[];\n    bundles: IndexedBundle[];\n    assignment: number[];\n    bundlesPerTa: IndexedBundle[][];\n    matrix: IndexedBundle[][][];\n    workloads: number[];\n    weeklyWorkloads: number[];\n    bundleViolations: Violation[][];\n    workloadViolations: Violation[];\n    objective: number;\n    assignedSessions: AssignedSession[];\n}\n","import {DayOfWeek, WeeklySlot, Session, SchedulingInstance, UserPreferences, Preference, NumberPreferences, StringPreferences, StringBoolean, Bundle, UserAvailability, SchedulingState} from './data'\n\nimport dayjs from 'dayjs';\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\ndayjs.extend(weekOfYear);\n\nexport function weeklySlotToString(ws: WeeklySlot): string {\n    const day = DayOfWeek[ws.dayOfWeek];\n    const startHour = ws.startHour < 10 ? ('0'+ws.startHour) : ws.startHour;\n    const startMinute = ws.startMinute < 10 ? ('0'+ws.startMinute) : ws.startMinute;\n    const end = dayjs().hour(ws.startHour).minute(ws.startMinute).add(ws.durationInHours, 'hours');\n    const endHour = end.hour() < 10 ? ('0'+end.hour()) : end.hour();\n    const endMinute = end.minute() < 10 ? ('0'+end.minute()) : end.minute();\n\n    return day + ' ' + startHour + ':' + startMinute + '-' + endHour + ':' + endMinute;\n}\n\nexport function weekNumberString(sessions: Session[], addPrefix=true): string {\n    const weeks = [...new Set(sessions.map(ses => dayjs(ses.timeSlot.start).week()))];\n    weeks.sort();\n    const splitted: number[][] = [];\n    let last = -2;\n    for (const week of weeks) {\n        if (week > last+1) {\n            splitted.push([week]);\n        }\n        else if (last!==-1) {\n            splitted[splitted.length-1].push(week);\n        }\n        last = week;\n    }\n    let prefix = '';\n    if (addPrefix && sessions.length > 0) {\n        prefix = 'Week'\n        if (sessions.length > 1) {\n            prefix += 's';\n        }\n        prefix += ' ';\n    }\n    return prefix + splitted.map(seqToStr).join(', ');\n}\n\nexport function downloadInstanceJson(instance: SchedulingInstance): void {\n    const filename = 'scheduling-'+instance.courseNames[0].replaceAll(/[^A-Za-z0-9-_]/g,'_')+'.instance.json';\n    const element = document.createElement('a');\n    const body = JSON.stringify(instance);\n    element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(body));\n    element.setAttribute('download', filename);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n}\n\nexport function downloadPreferencesJson(preferences: UserPreferences, instance: SchedulingInstance): void {\n    let filename = 'preferences-'\n        + preferences.userId.replaceAll(/[^A-Za-z0-9-_]/g,'_')\n        + '-'\n        + instance.courseNames[0].replaceAll(/[^A-Za-z0-9-_]/g,'_')\n    filename = filename.replaceAll(/_*$/g,'').replaceAll(/_+/g,'_');\n    filename += '.preferences.json';\n    const element = document.createElement('a');\n    const body = JSON.stringify(preferences);\n    element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(body));\n    element.setAttribute('download', filename);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n}\n\nexport function downloadSchedulingJson(state: SchedulingState): void {\n    const instance = state.instance;\n    const filename = 'scheduling-state-'+instance.courseNames[0].replaceAll(/[^A-Za-z0-9-_]/g,'_')+'.state.json';\n    const element = document.createElement('a');\n    const body = JSON.stringify(state);\n    element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(body));\n    element.setAttribute('download', filename);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n}\n\nexport function downloadString(data: string, filename: string): void {\n    const element = document.createElement('a');\n    element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(data));\n    element.setAttribute('download', filename);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n}\n\nfunction seqToStr(seq: number[]) {\n    if (seq.length >= 2) {\n        return seq[0] + '-' + seq[seq.length-1];\n    }\n    return ''+seq[0];\n}\nexport function emptyInstance(): SchedulingInstance {\n    return {\n        courseNames: [],\n        bundles: [],\n        askSlots: [],\n        askConsecutiveSessions: false,\n        maxConsecutiveSessions: 1,\n        askDifferentDays: false,\n        maxDifferentDays: 1,\n        askGroupTypes: false,\n        groupTypes: [],\n        askCapabilities: false,\n        capabilities: []\n    }\n}\n\nexport function instanceToDefaultPreferences(instance: SchedulingInstance=emptyInstance()): UserPreferences {\n    const capabilities = new Map(instance.capabilities.map(cap => [cap, false]));\n    const slotPreferences = new Map(instance.askSlots.map(slot => [weeklySlotToString(slot), Preference.NEUTRAL]));\n    const groupTypePreferences = new Map(instance.groupTypes.map(grp => [grp, Preference.NEUTRAL]));\n    const userId = '';\n    const schedulingComment = '';\n    const consecutivePreferences = new Map();\n    for (let i=2; i <= instance.maxConsecutiveSessions; i++) {\n        consecutivePreferences.set(i, Preference.NEUTRAL);\n    }\n    const differentDaysPreferences = new Map();\n    for (let i=1; i <= instance.maxDifferentDays; i++) {\n        differentDaysPreferences.set(i, Preference.NEUTRAL);\n    }\n    return {\n        capabilities: mapConvBool(capabilities),\n        consecutivePreferences: mapConvNum(consecutivePreferences),\n        groupTypePreferences: mapConvStr(groupTypePreferences),\n        userId,\n        differentDaysPreferences: mapConvNum(differentDaysPreferences),\n        slotPreferences:  mapConvStr(slotPreferences),\n        schedulingComment\n    };\n}\n\nexport function emptyUserAvailability(): UserAvailability[] {\n    return [];\n}\n\n\n// TODO: can't we make this a single method with some type generics? This is ugly...\nfunction mapConvNum(map: Map<number,Preference>): NumberPreferences {\n    const result: NumberPreferences = {};\n    for (const [key,val] of map.entries()) {\n        result[key] = val;\n    }\n    return result;\n}\n\nfunction mapConvStr(map: Map<string,Preference>): StringPreferences {\n    const result: StringPreferences = {};\n    for (const [key,val] of map.entries()) {\n        result[key] = val;\n    }\n    return result;\n}\n\nfunction mapConvBool(map: Map<string,boolean>): StringBoolean {\n    const result: StringBoolean = {};\n    for (const [key,val] of map.entries()) {\n        result[key] = val;\n    }\n    return result;\n}\n\nexport function findDataValue(el: HTMLElement, key: string, boundaryType?: string): string|undefined {\n    let current: HTMLElement|null = el;\n    const boundary = boundaryType?.toUpperCase();\n    while (current != null) {\n        if (current.tagName === boundary) {\n            return undefined;\n        }\n        const dataset = current.dataset;\n        \n        if (dataset && dataset[key] !== undefined) {\n            return dataset[key];\n        }\n        current = current.parentElement;\n    }\n    return undefined;\n}\n\nexport function computeBundlesToSchedule(bundles: Bundle[]): number {\n    let result = 0;\n    for (const bundle of bundles) {\n        result += computeStaffNeeded(bundle);\n    }\n    return result;\n}\n\nexport function computeStaffNeeded(bundle: Bundle): number {\n    let result = 0;\n    for (const session of bundle.sessions) {\n        result = Math.max(result, session.staffNeeded);\n    }\n    return result;\n}\n\nexport function compareSessions(ses1: Session, ses2: Session): number {\n    const start1 = new Date(ses1.timeSlot.start);\n    const start2 = new Date(ses2.timeSlot.start);\n    const startDiff = start1.getTime() - start2.getTime();\n    if (startDiff !== 0) {\n        return startDiff;\n    }\n    const end1 = new Date(ses1.timeSlot.end);\n    const end2 = new Date(ses2.timeSlot.end);\n    return end1.getTime() - end2.getTime();\n}\n\nexport function addMaps<K>(map1: Map<K,number>, map2: Map<K,number>, inline=false): Map<K,number> {\n    const result = inline ? map1 : new Map(map1);\n    for (const [key,value] of map2.entries()) {\n        if (result.has(key)) {\n            let old = result.get(key);\n            if (!old) {\n                old = 0;\n            }\n            result.set(key, old+value);\n        }\n        else {\n            result.set(key, value);\n        }\n    }\n    return result;\n}\n\nexport function mapMaxValue<T>(map: Map<T,number>): number {\n    let result = -Infinity;\n    for (const n of map.values()) {\n        result = Math.max(result, n);\n    }\n    return result;\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport {bundlesPerWeeklySlot} from '../handle-sheet'\nimport {weeklySlotToString, emptyInstance, instanceToDefaultPreferences, emptyUserAvailability, computeBundlesToSchedule} from '../utils'\nimport { computeScheduleInformation, defaultSchedulingConfiguration } from '@/scheduling';\n\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        instance: emptyInstance(),\n        preferences: instanceToDefaultPreferences(),\n        taAvailability: emptyUserAvailability(),\n        currentAssignment: new Array(0).fill(-1),\n        configuration: defaultSchedulingConfiguration()\n    },\n    mutations: {\n        setInstance(state, payload) {\n            state.instance = payload;\n            state.preferences = instanceToDefaultPreferences(payload);\n            state.currentAssignment = new Array(computeBundlesToSchedule(payload.bundles)).fill(-1);\n        },\n        setCapability(state, payload) {\n            Vue.set(state.preferences.capabilities, payload.capability, payload.status);\n        },\n        setConsecutivePref(state, payload) {\n            Vue.set(state.preferences.consecutivePreferences, payload.key, payload.preference);\n        },\n        setDifferentDaysPref(state, payload) {\n            Vue.set(state.preferences.differentDaysPreferences, payload.key, payload.preference);\n        },        \n        setGroupTypePref(state, payload) {\n            Vue.set(state.preferences.groupTypePreferences, payload.key, payload.preference);\n        },\n        setSlotPref(state, payload) {\n            Vue.set(state.preferences.slotPreferences, weeklySlotToString(payload.weeklySlot), payload.preference);\n        },\n        setUserId(state, payload) {\n            Vue.set(state.preferences, 'userId', payload);\n        },\n        setSchedulingComment(state, payload) {\n            Vue.set(state.preferences, 'schedulingComment', payload);\n        },\n        setTAPreferences(state, payload) {\n            state.taAvailability = payload;\n        },\n        addTAPreferences(state, payload) {\n            console.log(state, payload);\n            state.taAvailability.push({totalWorkload: 4*8, maxWeeklyWorkload: 4, preferences: payload});\n        },\n        assignBundleToTa(state, payload) {\n            //state.helper.setAssignment(payload.bundleIndex, payload.taIndex);\n            Vue.set(state.currentAssignment, payload.bundleIndex, payload.taIndex);\n        },\n        setAssignment(state, payload) {\n            Vue.set(state, 'currentAssignment', payload);\n        },\n        setTotalWorkload(state, payload) {\n            Vue.set(state.taAvailability[payload.index], 'totalWorkload', payload.value);\n        },\n        setMaxWeeklyWorkload(state, payload) {\n            Vue.set(state.taAvailability[payload.index], 'maxWeeklyWorkload', payload.value);\n        },\n        setConfiguration(state, payload) {\n            Vue.set(state, 'configuration', payload);\n        },\n        importState(state, payload) {\n            state.configuration = payload.configuration;\n            state.instance = payload.instance;\n            state.taAvailability = payload.taAvailability;\n            state.currentAssignment = payload.currentAssignment;\n            state.preferences = instanceToDefaultPreferences(payload.instance);\n        }\n    },\n    getters: {\n        bundlesPerSlot(state) {\n            const result = new Map();\n            const bundles = state?.instance?.bundles;\n            if (bundles) {\n                const entries = bundlesPerWeeklySlot(bundles);\n                for (const entry of entries.values()) {\n                    const weeklySlot = entry.weeklySlot;\n                    const bundles = entry.bundles;\n                    const key = weeklySlotToString(weeklySlot);\n                    result.set(key, bundles);\n                }\n            }\n            return result;\n        },\n        scheduleInformation(state) {\n            return computeScheduleInformation(state.instance, state.taAvailability, state.currentAssignment, state.configuration);\n        },\n        fullState(state) {\n            return {instance: state.instance, taAvailability: state.taAvailability, currentAssignment: state.currentAssignment, configuration: state.configuration};\n        }\n    },\n    actions: {\n        loadInstance(context, src) {\n            console.log(src);\n            if (src.data) {\n                const instance = JSON.parse(src.data);\n                context.commit('setInstance', instance);\n            }\n            else if (src.url) {\n                return fetch(src.url)\n                    .then(response => {\n                        return response.json()\n                    })\n                    .then(jsonObj => {\n                        context.commit('setInstance', jsonObj);\n                    })\n                    .catch(err => {\n                        console.log(err);\n                    })\n            }\n        }\n    }\n\n}) ","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',[_c('v-main',[_c('v-container',{staticClass:\"text-left\"},[_c('v-row',[_c('v-col',[_c('v-stepper',{attrs:{\"non-linear\":\"\",\"vertical\":\"\"},model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"1\"}},[_vm._v(\"Introduction\")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('welcome'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \")],1),_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"2\"}},[_vm._v(\"Name and Capabilities\")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('capabilities'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1),(_vm.isActive(3))?[_c('v-stepper-step',{attrs:{\"editable\":_vm.isActive(3),\"step\":\"3\"}},[_vm._v(\"Timeslots\")]),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('slot-preferences'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)]:_vm._e(),(_vm.isActive(4))?[_c('v-stepper-step',{attrs:{\"editable\":_vm.isActive(4),\"step\":\"4\"}},[_vm._v(\"Groups\")]),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('group-preferences'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)]:_vm._e(),(_vm.isActive(5))?[_c('v-stepper-step',{attrs:{\"editable\":_vm.isActive(5),\"step\":\"5\"}},[_vm._v(\"Consecutive Classes\")]),_c('v-stepper-content',{attrs:{\"step\":\"5\"}},[_c('consecutive-preferences'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)]:_vm._e(),(_vm.isActive(6))?[_c('v-stepper-step',{attrs:{\"editable\":_vm.isActive(6),\"step\":\"6\"}},[_vm._v(\"Different Days\")]),_c('v-stepper-content',{attrs:{\"step\":\"6\"}},[_c('different-days-preferences'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)]:_vm._e(),_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"7\"}},[_vm._v(\"Wrap Up\")]),_c('v-stepper-content',{attrs:{\"step\":\"7\"}},[_c('wrap-up'),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)],2)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"Collecting Scheduling Preferences\")]),_c('p',[_vm._v(\"With this application you can provide your scheduling preferences for your work as a TA in the following courses: \")]),_c('ul',_vm._l((_vm.instance.courseNames),function(course){return _c('li',{key:course},[_vm._v(\" \"+_vm._s(course)+\" \")])}),0),_c('br'),_c('p',[_vm._v(\" You will have to e-mail a file containing your preferences by e-mail. You can obtain this file during the final step. \")]),_c('p',[_vm._v(\" Please go through all the steps and review your preferences carefully. \")])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator';\n  import {State} from 'vuex-class';\n  import {SchedulingInstance} from '@/data';\n\n  @Component\n  export default class Capabilities extends Vue {\n    @State('instance') instance!: SchedulingInstance\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Welcome.vue?vue&type=template&id=6ff815ca&scoped=true&\"\nimport script from \"./Welcome.vue?vue&type=script&lang=ts&\"\nexport * from \"./Welcome.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Welcome.vue?vue&type=style&index=0&id=6ff815ca&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ff815ca\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',[_vm._v(\"Please fill in your name\")]),_c('v-text-field',{staticClass:\"limit-width\",attrs:{\"label\":\"Give your name\"},on:{\"change\":_vm.setName}})],1)],1),(_vm.instance.askCapabilities)?[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',[_vm._v(\"Please indicate teaching capabilities\")])])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"limit-width\",attrs:{\"elevation\":\"2\",\"tile\":\"\"}},[_c('v-card-text',[_vm._v(\" Please indicate if you have one or more of the following capabilities for teaching classes \"),(_vm.selected <= 0)?_c('v-alert',{staticClass:\"limit-width\",attrs:{\"type\":\"warning\"}},[_vm._v(\" You currently have no capabilities selected. This is likely incorrect. \")]):_vm._e(),_vm._l((_vm.instance.capabilities),function(cap,idx){return _c('div',{key:'row-'+idx,staticClass:\"spaced\"},[_c('v-checkbox',{attrs:{\"label\":cap},on:{\"change\":pref => _vm.change(cap,pref)}})],1)})],2)],1)],1)],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator';\n  import {Mutation, State} from 'vuex-class';\n  import {SchedulingInstance} from '@/data';\n\n  @Component\n  export default class Capabilities extends Vue {\n    @State('instance') instance!: SchedulingInstance\n    @State('preferences') preferences!: SchedulingInstance\n    @Mutation('setCapability') setCapability!: (payload: unknown) => void\n    @Mutation('setUserId') setName!: (payload: unknown) => void\n    change(capability: string, status: boolean): void {\n      this.setCapability({capability, status})\n    }\n    get selected(): number {\n      return Object.values(this.preferences.capabilities).filter(k => k).length;\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Capabilities.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Capabilities.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Capabilities.vue?vue&type=template&id=10052e32&scoped=true&\"\nimport script from \"./Capabilities.vue?vue&type=script&lang=ts&\"\nexport * from \"./Capabilities.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Capabilities.vue?vue&type=style&index=0&id=10052e32&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10052e32\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',[_vm._v(\"Please indicate for the following time slots your availability and preference\")])])],1),_c('v-row',_vm._l((_vm.instance.askSlots),function(slot,idx){return _c('v-col',{key:'col-'+idx,attrs:{\"cols\":\"12\",\"sm\":\"10\",\"md\":\"6\",\"lg\":\"4\",\"xl\":\"3\"}},[_c('weekly-slot-preference',{staticStyle:{\"min-height\":\"16em\"},attrs:{\"weeklySlot\":slot}})],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{attrs:{\"elevation\":\"2\",\"tile\":\"\"}},[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',{attrs:{\"align\":\"left\"}},[_c('preference-select',{on:{\"change\":_vm.setPref}}),_c('h5',[_vm._v(\"Sessions currently scheduled\")]),_vm._l((_vm.bundles),function(bundle,idx){return _c('v-chip',{key:'bdl-'+idx,staticClass:\"spaced\"},[_vm._v(\" \"+_vm._s(bundle.name)+\" (\"+_vm._s(_vm.weekNumbers[idx])+\") \")])})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-select',{attrs:{\"items\":_vm.items,\"value\":_vm.preference,\"background-color\":_vm.backgroundColor,\"label\":\"Select your Preference\"},on:{\"change\":_vm.changePreference}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Prop, Component, Vue} from 'vue-property-decorator'\n  import {Preference, PreferenceColors} from '@/data';\n\n  @Component\n  export default class PreferenceSelect extends Vue {\n    preference: Preference = Preference.NEUTRAL\n    @Prop({default: true}) allowUnavailable!: boolean\n    changePreference(newVal: Preference): void {\n      this.preference = newVal\n      this.$emit('change', this.preference);\n    }\n    get excludes(): string[] {\n      if (this.allowUnavailable) {\n        return [];\n      }\n      return [Preference.UNAVAILABLE];\n    }\n    get items(): string[] {\n      return Object.keys(Preference).filter(k => !this.excludes.includes(k));\n    }\n    get backgroundColor(): string {\n      return PreferenceColors[this.preference];\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferenceSelect.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferenceSelect.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferenceSelect.vue?vue&type=template&id=0b172b6b&\"\nimport script from \"./PreferenceSelect.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferenceSelect.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n  import {Prop, Component, Vue} from 'vue-property-decorator'\n  import {Getter, Mutation} from 'vuex-class'\n  import {weeklySlotToString, weekNumberString} from '@/utils'\n  import {WeeklySlot, Preference, Bundle} from '@/data'\n  import PreferenceSelect from './PreferenceSelect.vue';\n\n  @Component({\n    components: {\n      PreferenceSelect\n    }\n  })\n  export default class WeeklySlotPreference extends Vue {\n    @Prop() readonly weeklySlot!: WeeklySlot\n    @Getter('bundlesPerSlot') readonly bundlesPerSlot!: Map<string,Bundle[]>\n    \n    get bundles():Bundle[] {\n      const key = weeklySlotToString(this.weeklySlot);\n      if (this.bundlesPerSlot.has(key)) {\n        const result =  this.bundlesPerSlot.get(key);\n        if (result) {\n          return result;\n        }\n      }\n      return [];\n    }\n    get weekNumbers():string[] {\n      return this.bundles.map(bundle => weekNumberString(bundle.sessions));\n    }\n    get title():string {\n      if (!this.weeklySlot) {\n        return '';\n      }\n      const ws = this.weeklySlot;\n      return weeklySlotToString(ws);\n    }\n    @Mutation('setSlotPref') setSlotPref!: (payload: unknown) => void\n    setPref(preference: Preference): void {\n      this.setSlotPref({weeklySlot: this.weeklySlot, preference});\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WeeklySlotPreference.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WeeklySlotPreference.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WeeklySlotPreference.vue?vue&type=template&id=58a224cc&scoped=true&\"\nimport script from \"./WeeklySlotPreference.vue?vue&type=script&lang=ts&\"\nexport * from \"./WeeklySlotPreference.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WeeklySlotPreference.vue?vue&type=style&index=0&id=58a224cc&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58a224cc\",\n  null\n  \n)\n\nexport default component.exports","\n  import {Component, Vue} from 'vue-property-decorator'\n  import {State} from 'vuex-class'\n  import WeeklySlotPreference from './WeeklySlotPreference.vue';\n  import { SchedulingInstance } from '@/data';\n\n  import {retrieveInstance} from '@/handle-sheet';\n\n  @Component({\n    components: {\n      WeeklySlotPreference\n    }\n  })\n  export default class SlotPreferences extends Vue {\n    @State('instance') instance?: SchedulingInstance = undefined\n    downloadTestJson(): void {\n      retrieveInstance().then(\n        instance => {\n          const filename = 'scheduling-'+instance.courseNames[0].replaceAll(/[^A-Za-z0-9-_]/g,'_')+'.json';\n          const element = document.createElement('a');\n          const body = JSON.stringify(instance);\n          element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(body));\n          element.setAttribute('download', filename);\n          element.style.display = 'none';\n          document.body.appendChild(element);\n          element.click();\n          document.body.removeChild(element);\n        });\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlotPreferences.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlotPreferences.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SlotPreferences.vue?vue&type=template&id=037bb95c&\"\nimport script from \"./SlotPreferences.vue?vue&type=script&lang=ts&\"\nexport * from \"./SlotPreferences.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('key-preferences',{attrs:{\"keys\":_vm.instance.groupTypes,\"keyTransform\":_vm.transform,\"instruction\":\"Please indicate your preferences related to group types\",\"allowUnavailable\":false},on:{\"change\":_vm.change}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',[_vm._v(_vm._s(_vm.instruction))])])],1),_c('v-row',_vm._l((_vm.keys),function(key,idx){return _c('v-col',{key:'col-'+idx,attrs:{\"cols\":\"12\",\"md\":\"6\",\"xl\":\"4\"}},[_c('v-card',{attrs:{\"elevation\":\"2\",\"tile\":\"\"}},[_c('v-card-text',[_vm._v(_vm._s(_vm.transformed[idx]))]),_c('v-card-actions',[_c('preference-select',{attrs:{\"allowUnavailable\":_vm.allowUnavailable},on:{\"change\":pref => _vm.change(key, pref)}})],1)],1)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue, Prop, Emit} from 'vue-property-decorator'\n  import PreferenceSelect from './PreferenceSelect.vue';\n  import { Preference } from '@/data';\n\n  @Component({\n    components: {\n        PreferenceSelect\n    }\n  })\n  export default class KeyPreferences extends Vue {\n    @Prop() readonly instruction!: string\n    @Prop() readonly keys!: string[]|number[]\n    @Prop() readonly keyTransform?: (key: string|number) => string\n    @Prop() readonly allowUnavailable!: boolean\n    @Emit('change') change(key: string|number, preference: Preference): {key: string|number, preference: Preference} {\n      return {key, preference};\n    }\n    get transformed(): string[] {\n      const result = [];\n      for (const k of this.keys) {\n        if (this.keyTransform) {\n          result.push(this.keyTransform(k).toString())\n        }\n        else {\n          result.push(k.toString());\n        }\n      }\n      return result;\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyPreferences.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyPreferences.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./KeyPreferences.vue?vue&type=template&id=8fe3b34a&\"\nimport script from \"./KeyPreferences.vue?vue&type=script&lang=ts&\"\nexport * from \"./KeyPreferences.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n  import {Component, Vue} from 'vue-property-decorator'\n  import {State, Mutation} from 'vuex-class'\n  import KeyPreferences from './KeyPreferences.vue';\n  import { SchedulingInstance } from '@/data';\n  @Component({\n    components: {\n      KeyPreferences\n    }\n  })\n  export default class SlotPreferences extends Vue {\n    @State('instance') instance?: SchedulingInstance = undefined\n\n    transform(grp: string): string {\n      return 'Your preference with regarding to teaching groups of type '+grp;\n    }\n    @Mutation('setGroupTypePref') change!: (payload: unknown) => void\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupPreferences.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupPreferences.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GroupPreferences.vue?vue&type=template&id=45d72721&\"\nimport script from \"./GroupPreferences.vue?vue&type=script&lang=ts&\"\nexport * from \"./GroupPreferences.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('key-preferences',{attrs:{\"keys\":_vm.consecutive,\"keyTransform\":_vm.transform,\"instruction\":\"Please indicate your preferences to teach multiple classes directly after each other (back to back)\",\"allowUnavailable\":false},on:{\"change\":_vm.change}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator'\n  import {State, Mutation} from 'vuex-class'\n  import KeyPreferences from './KeyPreferences.vue';\n  import { SchedulingInstance } from '@/data';\n  @Component({\n    components: {\n      KeyPreferences\n    }\n  })\n  export default class ConsecutivePreferences extends Vue {\n    @State('instance') instance?: SchedulingInstance = undefined\n    get consecutive(): number[] {\n      const result = [];\n      if (this.instance) {\n        for (let i=2; i <= this.instance.maxConsecutiveSessions; i++) {\n          result.push(i);\n        }\n      }\n      return result;\n    }\n    transform(num: number): string {\n      return 'Your preference of teaching '+num+' classes consecutively';\n    }\n    @Mutation('setConsecutivePref') change!: (payload: unknown) => void\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConsecutivePreferences.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConsecutivePreferences.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConsecutivePreferences.vue?vue&type=template&id=0e076662&\"\nimport script from \"./ConsecutivePreferences.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConsecutivePreferences.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('key-preferences',{attrs:{\"keys\":_vm.consecutive,\"keyTransform\":_vm.transform,\"instruction\":\"Please indicate your preferences to teach classes spread out over one or multiple days\",\"allowUnavailable\":false},on:{\"change\":_vm.change}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator'\n  import {State, Mutation} from 'vuex-class'\n  import KeyPreferences from './KeyPreferences.vue';\n  import { SchedulingInstance } from '@/data';\n  @Component({\n    components: {\n      KeyPreferences\n    }\n  })\n  export default class DifferentDaysPreferences extends Vue {\n    @State('instance') instance?: SchedulingInstance = undefined\n    get consecutive(): number[] {\n      const result = [];\n      if (this.instance) {\n        for (let i=2; i <= this.instance.maxConsecutiveSessions; i++) {\n          result.push(i);\n        }\n      }\n      return result;\n    }\n    transform(num: number): string {\n      return 'Your preference of teaching '+num+' different weekdays';\n    }\n    @Mutation('setDifferentDaysPref') change!: (payload: unknown) => void\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DifferentDaysPreference.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DifferentDaysPreference.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DifferentDaysPreference.vue?vue&type=template&id=1b24b160&\"\nimport script from \"./DifferentDaysPreference.vue?vue&type=script&lang=ts&\"\nexport * from \"./DifferentDaysPreference.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"Wrap-Up\")]),_c('h5',[_vm._v(\"Comments to Scheduler\")]),_c('p',[_vm._v(\"If you have any comments to scheduler, you can type them in this textbox.\")]),_c('v-textarea',{staticStyle:{\"max-width\":\"40em\"},attrs:{\"rows\":\"5\",\"outlined\":\"\"},on:{\"change\":_vm.setComment}}),_c('h5',[_vm._v(\"Submit your Preferences\")]),_c('p',[_vm._v(\"Now that you passed through all steps, you can finalize your choices. Use the following button to obtain a file with all your preferences. \")]),_c('v-btn',{staticClass:\"spaced\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.download}},[_vm._v(\"Download Preferences\")]),_c('p',[_vm._v(\" Please make sure to send your preferences to the course coordinator! \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator';\n  import {State,Mutation} from 'vuex-class';\n  import {SchedulingInstance,UserPreferences} from '@/data';\n  import {downloadPreferencesJson} from '@/utils'\n\n  @Component\n  export default class Capabilities extends Vue {\n    @State('instance') instance!: SchedulingInstance\n    @State('preferences') preferences!: UserPreferences\n    @Mutation('setSchedulingComment') setComment!: (comment: unknown) => void\n    download(): void {\n      downloadPreferencesJson(this.preferences, this.instance);\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WrapUp.vue?vue&type=template&id=25f42562&scoped=true&\"\nimport script from \"./WrapUp.vue?vue&type=script&lang=ts&\"\nexport * from \"./WrapUp.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WrapUp.vue?vue&type=style&index=0&id=25f42562&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25f42562\",\n  null\n  \n)\n\nexport default component.exports","\n\nimport Welcome from '@/components/preferences/Welcome.vue'\nimport Capabilities from '@/components/preferences/Capabilities.vue';\nimport SlotPreferences from '@/components/preferences/SlotPreferences.vue';\nimport GroupPreferences from '@/components/preferences/GroupPreferences.vue';\nimport ConsecutivePreferences from '@/components/preferences/ConsecutivePreferences.vue';\nimport DifferentDaysPreferences from '@/components/preferences/DifferentDaysPreference.vue';\nimport WrapUp from '@/components/preferences/WrapUp.vue';\n\nimport {SchedulingInstance} from '@/data'\n\nimport {Component, Vue} from 'vue-property-decorator'\nimport {State} from 'vuex-class'\n\n@Component({\n  components: {\n    Welcome,\n    Capabilities,\n    SlotPreferences,\n    GroupPreferences,\n    ConsecutivePreferences,\n    DifferentDaysPreferences,\n    WrapUp\n  }\n})\nexport default class App extends Vue {\n  step = 1;\n  @State('instance') instance!: SchedulingInstance;\n  isActive(step: number): boolean {\n    if (this.instance) {\n      if (this.instance.askSlots.length == 0 && step == 3) {\n        return false;\n      }\n      if (!this.instance.askGroupTypes && step == 4) {\n        return false;\n      }\n      if (!this.instance.askConsecutiveSessions && step == 5) {\n        return false;\n      }\n      if (!this.instance.askDifferentDays && step == 6) {\n        return false;\n      }\n    }\n    return true;\n  }\n  next(): void {\n    this.step++;\n    while (!this.isActive(this.step)) {\n      this.step++;\n    }\n  }\n  prev(): void {\n    this.step--;\n    while (!this.isActive(this.step)) {\n      this.step--;\n    }\n  }\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Preferences.vue?vue&type=template&id=5bc4cef8&\"\nimport script from \"./Preferences.vue?vue&type=script&lang=ts&\"\nexport * from \"./Preferences.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',[_c('v-main',[_c('v-container',{staticClass:\"text-left\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',[_c('v-stepper',{attrs:{\"non-linear\":\"\",\"vertical\":\"\"},model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"1\"}},[_vm._v(\"Introduction\")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('welcome',{on:{\"stateload\":function($event){_vm.step = 5}}}),_c('br'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \")],1),_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"2\"}},[_vm._v(\"Load preferences\")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('loadtapreferences'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1),_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"3\"}},[_vm._v(\"TA Employment Properties\")]),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('employment'),_c('br'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1),[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"4\"}},[_vm._v(\"Scheduling Configuration\")]),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('scheduling-configuration-page'),_c('br'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)],[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"5\"}},[_vm._v(\"Create Schedule\")]),_c('v-stepper-content',{attrs:{\"step\":\"5\"}},[_c('scheduling-table'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)],[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"6\"}},[_vm._v(\"Export Schedule\")]),_c('v-stepper-content',{attrs:{\"step\":\"6\"}},[_c('wrap-up'),_c('br'),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)]],2)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"Welcome\")]),_c('p',[_vm._v(\"In this part of the application, you can schedule TA's.\")]),_c('v-divider'),_c('h5',[_vm._v(\"Import scheduling state from a .json file\")]),_c('FileDropZone',{attrs:{\"accept\":\".state.json\"},on:{\"change\":_vm.change}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-sheet',{staticClass:\"pa-2 sheet\",attrs:{\"tabindex\":\"0\",\"title\":\"Click to grap a file from your PC!\",\"color\":\"secondary lighten-4\",\"width\":\"100%\"},on:{\"dragenter\":_vm.dragStart,\"dragover\":_vm.dragStart,\"dragleave\":_vm.dragEnd,\"drop\":_vm.drop,\"click\":function($event){return _vm.$refs.inputEl.click()}}},[_c('input',{ref:\"inputEl\",staticClass:\"hidden\",attrs:{\"type\":\"file\",\"accept\":_vm.accept},on:{\"change\":_vm.changeFile}}),_c('v-container',[(!_vm.currentFiles)?_c('v-row',{attrs:{\"justify\":\"center\"}},[(_vm.error)?_c('v-icon',{attrs:{\"color\":\"black\",\"size\":\"75\"}},[_vm._v(\"mdi-alert-box-outline\")]):(_vm.dragover && !_vm.error)?_c('v-icon',{attrs:{\"color\":\"black\",\"size\":\"75\"}},[_vm._v(\"mdi-plus-box-outline\")]):_c('v-icon',{attrs:{\"color\":\"black\",\"size\":\"75\"}},[_vm._v(\"mdi-cloud-upload-outline\")])],1):_vm._e(),(!_vm.currentFiles)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('span',{staticClass:\"title\"},[_vm._v(\"Drag'n drop or click to upload file\"+_vm._s(this.allowMultiple ? '(s)' : '')+\"!\")])]):_vm._e(),(_vm.currentFiles)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('div',{staticClass:\"selection-box\"},[_c('h3',[_vm._v(\"Selected files:\")]),_vm._l((_vm.currentFiles),function(currentFile,idx){return _c('v-chip',{key:'file-'+idx,staticClass:\"spacing\",attrs:{\"small\":\"\"}},[_vm._v(_vm._s(currentFile.name))])})],2)]):_vm._e(),((_vm.currentFiles || _vm.error) && !_vm.dragover)?_c('v-row',{attrs:{\"justify\":\"center\"}},[(!_vm.error)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.submit.apply(null, arguments)}}},[_vm._v(\"Submit\")]):_vm._e(),(!_vm.error)?_c('span',{staticStyle:{\"width\":\"3em\"}}):_vm._e(),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clear.apply(null, arguments)}}},[_vm._v(\"Clear\")])],1):_vm._e()],1)],1),(_vm.error)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n// // TODO: make this more configurable??\n// window.addEventListener(\"dragover\",function(e){\n//   e = e || event;\n//   e.preventDefault();\n// },false);\n\n// window.addEventListener(\"drop\",function(e){\n//   e = e || event;\n//   e.preventDefault();\n// },false);\n\nimport {Prop, Emit, Component, Vue} from 'vue-property-decorator'\n\n@Component\nexport default class FileDropZone extends Vue {\n    dragover = false\n    error: string|null = null\n    currentFiles: FileList|null = null\n    $refs!: {\n        inputEl: HTMLInputElement\n    }\n    \n    @Prop({default: ''}) readonly accept!: string\n    @Prop({default: null}) readonly acceptError!: string|null\n    @Prop({default: false}) readonly autoSubmit!: boolean\n    @Prop({default: false}) readonly allowMultiple!: boolean\n\n    constructor() {\n        super()\n    }\n\n    dragStart(ev: DragEvent): void {\n        this.dragging(ev, true);\n    }\n    dragEnd(ev: DragEvent): void {\n        this.dragging(ev, false);\n    }\n    dragging(ev:DragEvent, val: boolean): void {\n        ev.preventDefault();\n        this.dragover = val;\n        if (ev.dataTransfer && ev.dataTransfer.items) {\n            // TODO\n            //this.error = this.validate(ev.dataTransfer.items);\n        }\n        if (!val) {\n            this.error = null;\n        }\n    }\n    checkValidFile(item: File): boolean {\n        if (!this.accept) {\n            return true;\n        }\n        // check by extension\n        for (const opt of this.acceptOptions) {\n            if (item.name.endsWith(opt)) {\n                return true;\n            }\n        }\n        // check mime type\n        if (this.acceptOptions.includes(item.type)) {\n            return true;\n        }\n        return false;\n    }\n    validate(items: FileList): string|null {\n        if (!this.allowMultiple && items.length != 1) {\n            return \"Only a single file is supported\";\n        }\n        for (const file of items) {\n            if (this.accept && !this.checkValidFile(file)) {\n                if (this.acceptError) {\n                    return this.acceptError;\n                }\n                else {\n                    return \"Only files of type '\"+this.accept+\"' are supported\";\n                }\n            }\n        }\n        return null;\n    }\n    drop(ev: DragEvent): void {\n        ev.preventDefault();\n        if (ev.dataTransfer) {\n            const items = ev.dataTransfer.files;\n            const valResult = this.validate(items);\n            if (valResult == null) {\n                this.currentFiles = items;\n                this.error = null;\n                if (this.autoSubmit) {\n                    this.submit();\n                }\n            }\n            else {\n                this.error = valResult;\n            }\n        }\n        this.dragover = false;\n    }\n    changeFile(ev: Event): void {\n        const target = ev.target as HTMLInputElement;\n        const files = target.files as FileList;\n        const val = this.validate(files);\n        if (val == null) {\n\n            this.currentFiles = files;\n            if (this.autoSubmit) {\n                this.submit();\n            }\n        }\n        else {\n            this.error = val;\n        }\n    }\n    clear(): void {\n        this.currentFiles = null;\n        this.error = null;\n        this.$refs.inputEl.value = '';\n    }\n    @Emit('change') submit(): FileList|null {\n        const result = this.currentFiles;\n        this.currentFiles = null;\n        return result;\n    }\n    get acceptOptions(): string[] {\n        if (this.accept) {\n            return this.accept.split(',').map(t => t.trim());\n            }\n            return []; \n    }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropZone.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropZone.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileDropZone.vue?vue&type=template&id=e2269cb2&scoped=true&\"\nimport script from \"./FileDropZone.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileDropZone.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileDropZone.vue?vue&type=style&index=0&id=e2269cb2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e2269cb2\",\n  null\n  \n)\n\nexport default component.exports","\n  import FileDropZone from '@/components/util/FileDropZone.vue';\n  import {Component, Vue, Emit} from 'vue-property-decorator';\n  import {Mutation} from 'vuex-class';\n  import {SchedulingState} from '@/data';\n\n  @Component({\n    components: {\n      FileDropZone\n    }\n  })\n  export default class Welcome extends Vue {\n    @Mutation('importState') importState!: (state: SchedulingState) => void\n    @Emit('stateload') stateLoaded(): void {\n      return;\n    }\n    change(files: FileList|null):void {\n      if (files) {\n        const file = files[0];\n        const reader = new FileReader();\n        reader.addEventListener('load', this.processFile);\n        reader.readAsText(file);\n        }\n    }\n    processFile(ev: ProgressEvent<FileReader>): void {\n      const data = ev?.target?.result as string;\n      if (data) {\n          try {\n              const state = JSON.parse(data);\n              this.importState(state);\n              this.stateLoaded();\n          }\n          catch (err) {\n              console.log(err);\n          }\n      }\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Welcome.vue?vue&type=template&id=7bad4297&scoped=true&\"\nimport script from \"./Welcome.vue?vue&type=script&lang=ts&\"\nexport * from \"./Welcome.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Welcome.vue?vue&type=style&index=0&id=7bad4297&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bad4297\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"Load TA preferences\")]),_c('FileDropZone',{attrs:{\"accept\":\".preferences.json\",\"allowMultiple\":true},on:{\"change\":_vm.change}}),(_vm.taAvailability && _vm.taAvailability.length > 0)?_c('div',[_c('h3',[_vm._v(\"Preferences for the following TA's are now loaded\")]),_vm._l((_vm.taAvailability),function(av,idx){return _c('v-chip',{key:'ta_'+idx,staticClass:\"chip-spacing\"},[_vm._v(_vm._s(av.preferences.userId))])})],2):_vm._e()],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator';\n  import FileDropZone from '@/components/util/FileDropZone.vue'\n  import {State, Mutation} from 'vuex-class'\n\n  import {UserAvailability} from '@/data';\n\n  @Component({\n      components: {\n          FileDropZone\n      }\n  })\n  export default class LoadTAPreferences extends Vue {\n      @State taAvailability!: UserAvailability[]\n      \n      change(files: FileList|null):void {\n          if (files) {\n              for (const file of files) {\n                  const reader = new FileReader();\n                  reader.addEventListener('load', this.processFile);\n                  reader.readAsText(file);\n              }\n          }\n      }\n\n      @Mutation('addTAPreferences') addTAPreferences!: (payload: unknown) => void\n\n      processFile(ev: ProgressEvent<FileReader>): void {\n          const data = ev?.target?.result as string;\n          if (data) {\n              try {\n                  const preferences = JSON.parse(data);\n                  this.addTAPreferences(preferences);\n              }\n              catch (err) {\n                  console.log(err);\n              }\n          }\n      }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadTAPreferences.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadTAPreferences.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoadTAPreferences.vue?vue&type=template&id=48bd8ce0&scoped=true&\"\nimport script from \"./LoadTAPreferences.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoadTAPreferences.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LoadTAPreferences.vue?vue&type=style&index=0&id=48bd8ce0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48bd8ce0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',[_vm._v(\"Define TA workloads\")])])],1),_c('v-row',_vm._l((_vm.taAvailability),function(av,idx){return _c('v-col',{key:'av-col-'+idx,attrs:{\"cols\":\"12\",\"md\":\"4\",\"xl\":\"3\"}},[_c('v-card',{attrs:{\"elevation\":\"2\",\"tile\":\"\"}},[_c('v-card-text',[_vm._v(\"Workloads for \"+_vm._s(av.preferences.userId))]),_c('v-card-actions',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Total Workload\",\"value\":av.totalWorkload},on:{\"change\":ev => _vm.changeTotal(idx, ev)}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Max Weekly Workload\",\"value\":av.maxWeeklyWorkload},on:{\"change\":ev => _vm.changeWeekly(idx, ev)}})],1)],1)],1)],1)],1)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import { UserAvailability } from '@/data';\nimport {Component, Vue} from 'vue-property-decorator'\n  import {State, Mutation} from 'vuex-class';\n\n  @Component({\n    components: {\n\n    }\n  })\n  export default class TAEmployment extends Vue {\n    @State('taAvailability') taAvailability!: UserAvailability;\n    @Mutation('setTotalWorkload') setTotal!: (payload: unknown) => void\n    @Mutation('setMaxWeeklyWorkload') setWeekly!: (payload: unknown) => void\n    changeTotal(index: number, ev: Event): void {\n      console.log(index, ev);\n      this.setTotal({index, value: ev});\n    }\n    changeWeekly(index: number, ev: Event): void {\n      console.log(index, ev);\n      this.setWeekly({index, value: ev});\n    }\n\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAEmployment.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAEmployment.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TAEmployment.vue?vue&type=template&id=ed8530ea&\"\nimport script from \"./TAEmployment.vue?vue&type=script&lang=ts&\"\nexport * from \"./TAEmployment.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-toolbar',{attrs:{\"outlined\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.performGreedy()}}},[_vm._v(\"Greedy\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"Reset\")]),_c('v-spacer'),_vm._v(\" Current objective: \"+_vm._s(_vm.objective)+\" \")],1),_c('br'),_c('div',{staticClass:\"table-container\"},[_c('table',{ref:\"table\",staticClass:\"schedule-table\",attrs:{\"id\":\"schedulingTable\"}},[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Timeslot\")]),_vm._l((_vm.taAvailability),function(av,idx){return _c('th',{key:'table-head-'+idx,attrs:{\"scope\":\"col\"},on:{\"click\":function($event){return _vm.showDetails(idx)}}},[_vm._v(\" \"+_vm._s(_vm.names[idx])+\" \")])}),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Unassigned\")])],2)]),_c('tbody',_vm._l((_vm.slotRows),function(slot,idx){return _c('tr',{key:'slot-row-'+idx},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(slot))]),_vm._l((_vm.taAvailability),function(av,idx2){return _c('td',{key:'table-cell-'+idx+'-'+idx2,style:({backgroundColor: _vm.colors[av.preferences.slotPreferences[slot]]}),attrs:{\"data-idxta\":idx2},on:{\"dragstart\":_vm.dragStart,\"dragenter\":_vm.dragEnter,\"dragover\":_vm.dragging,\"dragleave\":_vm.dragEnd,\"drop\":_vm.drop}},_vm._l((_vm.matrix[idx][idx2]),function(bundle,idx3){return _c('v-chip',{key:'table-cell-bundle'+idx+'-'+idx2+'-'+idx3,attrs:{\"x-small\":\"\",\"draggable\":\"\",\"color\":_vm.bundleViolations[bundle.index].length == 0 ? 'primary' : 'secondary',\"data-idxbundle\":bundle.index},on:{\"dblclick\":function($event){return _vm.clearBundle(bundle.index)}}},[_vm._v(\" \"+_vm._s(bundle.name)+\" \")])}),1)}),_c('td',{staticStyle:{\"background-color\":\"#dfdfdf\"},attrs:{\"data-idxta\":-1},on:{\"dragstart\":_vm.dragStart,\"dragenter\":_vm.dragEnter,\"dragover\":_vm.dragging,\"dragleave\":_vm.dragEnd,\"drop\":_vm.drop}},_vm._l((_vm.matrix[idx][_vm.matrix[idx].length-1]),function(bundle,idx3){return _c('v-chip',{key:'table-cell-unassigned-bundle'+idx+'-'+idx3,attrs:{\"draggable\":\"\",\"x-small\":\"\",\"color\":\"primary\",\"data-idxbundle\":bundle.index},on:{\"dblclick\":function($event){return _vm.clearBundle(bundle.index)}}},[_vm._v(\" \"+_vm._s(bundle.name)+\" \")])}),1)],2)}),0),_c('tfoot',[_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Total Workload\")]),_vm._l((_vm.taAvailability),function(av,idx){return _c('th',{key:'table-foot-total-'+idx,class:{violation: _vm.workloads[idx] > av.totalWorkload, lowLoad: _vm.workloads[idx] <= av.totalWorkload*0.7},attrs:{\"scope\":\"col\"}},[_vm._v(\" \"+_vm._s(_vm.workloads[idx])+\" / \"+_vm._s(av.totalWorkload)+\" \")])}),_c('th')],2),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Max Weekly Workload\")]),_vm._l((_vm.taAvailability),function(av,idx){return _c('th',{key:'table-foot-total-'+idx,class:{violation: _vm.weeklyMaxLoads[idx] > av.maxWeeklyWorkload},attrs:{\"scope\":\"col\"}},[_vm._v(\" \"+_vm._s(_vm.weeklyMaxLoads[idx])+\" / \"+_vm._s(av.maxWeeklyWorkload)+\" \")])}),_c('th')],2)])])]),(_vm.violationList.length > 0)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_c('h3',[_vm._v(\"Violations found!\")]),_c('ul',_vm._l((_vm.violationList),function(v,idx){return _c('li',{key:'violation-'+idx},[_vm._v(_vm._s(v))])}),0)]):_vm._e(),_vm._l((_vm.taAvailability),function(av,idx){return _c('tadetails',{key:'ta-details-'+idx,ref:\"detailDialogs\",refInFor:true,attrs:{\"availability\":av}})}),_c('v-btn',{on:{\"click\":function($event){return _vm.print()}}},[_vm._v(\"Download SVG\")]),_c('v-divider')],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Details for \"+_vm._s(_vm.availability.preferences.userId)+\" \")]),_c('v-card-text',[_c('h4',[_vm._v(\"Capabilities\")]),_c('div',[_vm._l((Object.entries(_vm.availability.preferences.capabilities)),function([cap,present],idx){return [(present)?_c('v-chip',{key:'cap'+idx},[_vm._v(_vm._s(cap))]):_vm._e()]})],2),_c('h5',[_vm._v(\"Group Type Preferences\")]),_c('div',_vm._l((Object.entries(_vm.availability.preferences.groupTypePreferences)),function([key,pref]){return _c('v-chip',{key:'grouptype-'+key,attrs:{\"color\":_vm.colors[pref]}},[_vm._v(_vm._s(key))])}),1),_c('h5',[_vm._v(\"Consecutive Sessions Preferences\")]),_c('div',_vm._l((Object.entries(_vm.availability.preferences.consecutivePreferences)),function([key,pref]){return _c('v-chip',{key:'consecutive-'+key,attrs:{\"color\":_vm.colors[pref]}},[_vm._v(_vm._s(key)+\" consecutive sessions\")])}),1),_c('h5',[_vm._v(\"Different Days Preferences\")]),_c('div',_vm._l((Object.entries(_vm.availability.preferences.differentDaysPreferences)),function([key,pref]){return _c('v-chip',{key:'different-days-'+key,attrs:{\"color\":_vm.colors[pref]}},[_vm._v(_vm._s(key)+\" different days\")])}),1),_c('h4',[_vm._v(\"Scheduling Comment\")]),(_vm.availability.preferences.schedulingComment)?_c('blockquote',[_vm._v(\" \"+_vm._s(_vm.availability.preferences.schedulingComment)+\" \")]):_c('p',{staticStyle:{\"font-style\":\"italic\"}},[_vm._v(\" No scheduling comment \")])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":() => _vm.setVisible(false)}},[_vm._v(\"OK\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue, Prop} from 'vue-property-decorator';\n  import {UserAvailability, PreferenceColors} from '@/data';\n\n  @Component\n  export default class TADetails extends Vue {\n    @Prop() availability!: UserAvailability;\n    visible = false;\n    colors = PreferenceColors;\n    setVisible(val: boolean): void {\n      this.visible = val;\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TADetails.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TADetails.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TADetails.vue?vue&type=template&id=16bb30ac&scoped=true&\"\nimport script from \"./TADetails.vue?vue&type=script&lang=ts&\"\nexport * from \"./TADetails.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TADetails.vue?vue&type=style&index=0&id=16bb30ac&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16bb30ac\",\n  null\n  \n)\n\nexport default component.exports","import { Bundle, Preference, SchedulingState } from \"./data\";\nimport { computeFromState, computeBundleWorkloads, ScheduleInformation, checkOverlap,\n         computeBundleWeeklyWorkloads, computeWeeklyWorkloads } from \"./scheduling\";\nimport { weeklySlotToString, addMaps, mapMaxValue } from \"./utils\";\nimport { shuffle, MersenneTwister19937, Engine, sample }  from 'random-js';\n\n\nfunction canAddBundleOverlap(bundle: Bundle, assigned: Bundle[]): boolean {\n    for (const other of assigned) {\n        if (checkOverlap(bundle, other)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction canAddBundleWeeklyWorkload(\n    current: Map<number,number>,\n    toAdd: Map<number,number>,\n    maxWeeklyWorkload: number): boolean {\n        const newMap = addMaps(current, toAdd);\n        const maxValue = mapMaxValue(newMap);\n        return maxValue <= maxWeeklyWorkload;\n}\n\nfunction compatibilityMatrix(info: ScheduleInformation, assignment?: number[]): boolean[][] {\n    const bundles = info.bundles;\n    const availability = info.availability;\n    const result = [];\n    const weeklyWorkloads = info.bundlesPerTa.map(computeWeeklyWorkloads);\n    // TODO: computing this only once is probably faster?\n    const workloads = computeBundleWorkloads(bundles);\n    for (const [bundleIdx,bundle] of bundles.entries()) {\n        const bundleWeeklyLoad = computeBundleWeeklyWorkloads(bundle);\n        const row = [];\n        for (const [idx,av] of availability.entries()) {\n            const prefs = av.preferences;\n            const key = weeklySlotToString(bundle.weeklySlot);\n            const taBundles = info.bundlesPerTa[idx];\n            \n            let possible = prefs.slotPreferences[key] !== Preference.UNAVAILABLE\n                        && info.workloads[idx] + workloads[bundleIdx] <= av.totalWorkload\n                        && (assignment == null || assignment[bundleIdx] == -1)\n                        && canAddBundleOverlap(bundle, taBundles)\n                        && canAddBundleWeeklyWorkload(weeklyWorkloads[idx], bundleWeeklyLoad, av.maxWeeklyWorkload);\n            // TODO: we should probably also consider weekly max workload violations here\n            if (possible) {\n                capabilityLoop:\n                for (const session of bundle.sessions) {\n                    for (const cap of session.requiredCapabilities) {\n                        if (!prefs.capabilities[cap]) {\n                            possible = false;\n                            break capabilityLoop;\n                        }\n                    }\n                }\n            }\n            row.push(possible);\n        }\n        result.push(row);\n    }\n    return result;\n}\n\ninterface GreedyAction {\n    index: number,\n    bundle: boolean,\n    choices: number[]\n}\n\nfunction computeGreedyActions(matrix: boolean[][], info: ScheduleInformation): GreedyAction[] {\n    const bundleOptions = new Array(matrix.length).fill(()=>[]).map(f=>f());\n    const taOptions = new Array(matrix[0].length).fill(()=>[]).map(f=>f());\n    for (const [rowIdx,row] of matrix.entries()) {\n        for (const [colIdx,val] of row.entries()) {\n            if (val) {\n                bundleOptions[rowIdx].push(colIdx);\n                taOptions[colIdx].push(rowIdx);\n            }\n        }\n    }\n    const actions: GreedyAction[] = [];\n    for (const [bundleIdx,tas] of bundleOptions.entries()) {\n        if (tas.length > 0) {\n            actions.push({\n                index: bundleIdx,\n                bundle: true,\n                choices: [...tas]\n            });\n        }\n    }\n    for (const [taIdx, bundles] of taOptions.entries()) {\n        if (bundles.length > 0) {\n            actions.push({\n                index: taIdx,\n                bundle: false,\n                choices: [...bundles]\n            });\n        }\n    }\n    if (actions.length == 0) {\n        return [];\n    }\n    //console.log(matrix, bundleOptions, taOptions, actions);\n    actions.sort((a1, a2) => a1.choices.length - a2.choices.length);\n    const minChoices = actions[0].choices.length;\n    return actions.filter(a => a.choices.length == minChoices);\n}\n\nexport function greedy(state: SchedulingState, maxSteps=25, seed?: number, minChoice=true): number[]|null {\n    const stateCopy = {...state};\n    let result = state.currentAssignment;\n    let improve = false;\n    let improvementFound = false;\n    let iteration = 0\n    const stepFn = minChoice ? minChoiceGreedyStep : fullGreedyStep;\n    const rng = seed ? MersenneTwister19937.seed(seed) : MersenneTwister19937.autoSeed();\n    do {\n        improve = false;\n        iteration++;\n        stateCopy.currentAssignment = result;\n        const info = computeFromState(stateCopy);\n        const compat = compatibilityMatrix(info, result);\n        const step = stepFn(state, compat, result, rng);\n        if (step) {\n            result = step;\n            improve = true;\n            improvementFound = true;\n        }\n    } while(improve && iteration <= maxSteps);\n    if (improvementFound) {\n        return result;\n    }\n    return null;\n}\n\nfunction minChoiceGreedyStep(state: SchedulingState, compat: boolean[][], assignment: number[], rng: Engine): number[]|null {\n    const info = computeFromState(state, assignment);\n    const actions = computeGreedyActions(compat, info);\n    if (actions.length == 0) {\n        return null;\n    }\n    const action = sample(rng, actions, 1)[0];\n    console.log(action);\n    const newAssignments = [];\n    if (action.bundle) {\n        for (const ta of action.choices) {\n            const newAssignment = [...assignment];\n            newAssignment[action.index] = ta;\n            newAssignments.push(newAssignment);\n        }\n    }\n    else {\n        for (const bundle of action.choices) {\n            const newAssignment = [...assignment];\n            newAssignment[bundle] = action.index;\n            newAssignments.push(newAssignment);\n        }\n    }\n\n    let improve = false;\n    let best = info.objective;\n    let bestAssignment = null;\n    for (const newAssignment of newAssignments) {\n        const newInfo = computeFromState(state, newAssignment);\n        if (newInfo.objective > best) {\n            best = newInfo.objective;\n            bestAssignment = newAssignment;\n            improve = true;\n        }\n    }\n    if (improve) {\n        console.log('Improvement found!');\n    }\n    else {\n        console.log('No improvement found.');\n    }\n    return bestAssignment;\n}\n\nfunction fullGreedyStep(state: SchedulingState, compat: boolean[][], assignment: number[], rng: Engine): number[]|null {\n    const info = computeFromState(state, assignment);\n    let improve = false;\n    let best = info.objective;\n    let bestAssignment = null;\n    for (const [bundleIdx,assignee] of assignment.entries()) {\n        if (assignee == -1) {\n            const tas = [...compat[bundleIdx].entries()].filter(e => e[1]).map(e => e[0]);\n            shuffle(rng, tas);\n            for (const taIdx of tas) {\n                const newAssignment = [...assignment];\n                newAssignment[bundleIdx] = taIdx;\n                const newInfo = computeFromState(state, newAssignment);\n                if (newInfo.objective > best) {\n                    best = newInfo.objective;\n                    bestAssignment = newAssignment;\n                    improve = true;\n                }\n            }\n        }\n    }\n    if (improve) {\n        console.log('Improvement found!');\n    }\n    else {\n        console.log('No improvement found.');\n    }\n    return bestAssignment;\n}","\n  import {Component, Vue, Ref} from 'vue-property-decorator';\n  import {State, Getter, Mutation} from 'vuex-class';\n  import {SchedulingInstance, PreferenceColors, UserAvailability, IndexedBundle, SchedulingState} from '@/data';\n  import {weeklySlotToString, findDataValue, downloadString } from '@/utils';\n  import {ScheduleInformation, Violation } from '@/scheduling';\n  import TADetails from '@/components/scheduling/TADetails.vue';\n  import {greedy} from '@/optimize';\n  import { elementToSVG, inlineResources } from 'dom-to-svg';\n\n  @Component({\n    components: {\n      tadetails: TADetails\n    }\n  })\n  export default class Capabilities extends Vue {\n    colors = PreferenceColors\n    lastDragBundle: string|undefined = undefined\n    @State('instance') instance!: SchedulingInstance\n    @State('taAvailability') taAvailability!: UserAvailability[]\n    @State('currentAssignment') currentAssignment!: number[]\n    @Ref('detailDialogs') detailDialogs!: TADetails[]\n    //@Getter('assignmentMatrix') assignmentMatrix!: number[][]\n    get slotRows(): string[] {\n      return this.instance.askSlots.map(weeklySlotToString);\n    }\n    @Getter('scheduleInformation') scheduleInformation!: ScheduleInformation\n    get matrix(): IndexedBundle[][][] {\n      return this.scheduleInformation.matrix;\n    }\n    get workloads(): number[] {\n      return this.scheduleInformation.workloads;\n    }\n    get weeklyMaxLoads(): number[] {\n      return this.scheduleInformation.weeklyWorkloads;\n    }\n    get bundleViolations(): Violation[][] {\n      return this.scheduleInformation.bundleViolations;\n    }\n    get violationList(): string[] {\n      const result: Set<string> = new Set();\n      this.bundleViolations.forEach(lst => lst.forEach(v => result.add(v.text)));\n      return [...result];\n    }\n    get objective(): number {\n      return this.scheduleInformation.objective;\n    }\n    get names(): string[] {\n      const idToName = new Map();\n      const nameToId = new Map();\n      for (const av of this.taAvailability) {\n        const userId = av.preferences.userId;\n        const split = userId.trim().split(' ');\n        const first = split[0];\n        if (nameToId.has(first)) {\n          const fullName = nameToId.get(first);\n          idToName.set(fullName, fullName);\n          idToName.set(userId, userId);\n        }\n        else {\n          idToName.set(userId, first);\n          nameToId.set(first, userId);\n        }\n      }\n      const result = [];\n      for (const av of this.taAvailability) {\n        result.push(idToName.get(av.preferences.userId));\n      }\n      return result;\n    }\n    showDetails(idx: number): void {\n      this.detailDialogs[idx].setVisible(true);\n    }\n    @Ref('table') table!: HTMLTableElement;\n    async print(): Promise<void> {\n      console.log(this.table);\n      const svgDocument = elementToSVG(this.table);\n      await inlineResources(svgDocument.documentElement);\n      const svgString = new XMLSerializer().serializeToString(svgDocument);\n      downloadString(svgString, 'schedule.svg');\n      //print('schedulingTable', 'html');\n      /*\n      const doc = new jsPDF({\n        orientation: \"landscape\",\n        unit: \"mm\",\n        format: [297, 210]\n      });\n      */\n\n    }\n    dragStart(ev: DragEvent): void {\n        const element = ev.target as HTMLElement;\n        this.lastDragBundle = findDataValue(element, 'idxbundle', 'table');\n        /*\n        const dataset = element.dataset;\n        console.log(element, dataset);\n        \n        if (dataset && 'idxbundle' in dataset) {\n          console.log('setting bundle id to '+dataset['bundleId'])\n          this.lastDragBundle = dataset['bundleId'];\n        }\n        */\n    }\n    dragEnter(ev: DragEvent): void {\n      ev.preventDefault();\n      //console.log(ev.target);\n    }\n    dragging(ev: DragEvent): void {\n      ev.preventDefault();\n      //console.log(ev);\n    }\n    dragEnd(ev: DragEvent): void {\n        ev.preventDefault();\n        //this.lastDragBundle = undefined;\n        //this.dragging(ev, false);\n    }\n    dragging2(ev:DragEvent, start: boolean): void {\n        ev.preventDefault();\n        const element = ev.target as HTMLElement;\n        const dataset = element.dataset;\n        if (start) {\n          if (dataset && 'bundleId' in dataset) {\n            this.lastDragBundle = dataset['bundleId'];\n          }\n        }\n        //console.log(ev, val);\n        /*\n        this.dragover = val;\n        if (ev.dataTransfer && ev.dataTransfer.items) {\n            // TODO\n            //this.error = this.validate(ev.dataTransfer.items);\n        }\n        if (!val) {\n            this.error = null;\n        }\n        */\n    }\n    @Getter(\"fullState\") fullState!: SchedulingState\n    performGreedy(): void {\n      const newAssignment = greedy(this.fullState);\n      if (newAssignment != null) {\n        this.setAssignment(newAssignment);\n      }\n    }\n    reset(): void {\n      const newAssignment = new Array(this.currentAssignment.length).fill(-1);\n      this.setAssignment(newAssignment);\n    }\n    @Mutation('setAssignment') setAssignment!: (payload: unknown) => void\n    @Mutation('assignBundleToTa') assignBundleToTa!: (payload: unknown) => void\n    drop(ev: DragEvent): void {\n        ev.preventDefault();\n        const element = ev.target as HTMLElement;\n        const taIndex = findDataValue(element, 'idxta', 'table');\n        if (this.lastDragBundle !== undefined && taIndex !== undefined) {\n          this.assignBundleToTa({bundleIndex: this.lastDragBundle, taIndex});\n        }\n        /*\n        if (ev.dataTransfer) {\n            const items = ev.dataTransfer.files;\n            const valResult = this.validate(items);\n            if (valResult == null) {\n                this.currentFiles = items;\n                this.error = null;\n                if (this.autoSubmit) {\n                    this.submit();\n                }\n            }\n            else {\n                this.error = valResult;\n            }\n        }\n        this.dragover = false;\n        */\n    }\n    clearBundle(idx: number): void {\n      this.assignBundleToTa({bundleIndex: idx, taIndex: -1});\n    }        \n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchedulingTable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchedulingTable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SchedulingTable.vue?vue&type=template&id=769dcae9&scoped=true&\"\nimport script from \"./SchedulingTable.vue?vue&type=script&lang=ts&\"\nexport * from \"./SchedulingTable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SchedulingTable.vue?vue&type=style&index=0&id=769dcae9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"769dcae9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',[_vm._v(\"Define Scheduling Priorities\")])])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('v-form',[_c('h5',[_vm._v(\"Score per preference\")]),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.stronglyFavoredScore,\"label\":\"Strongly Unfavored\"},on:{\"change\":v => _vm.updateConfig('stronglyFavoredScore', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.favoredScore,\"label\":\"Unfavored\"},on:{\"change\":v => _vm.updateConfig('favoredScore', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.neutralScore,\"label\":\"Neutral\"},on:{\"change\":v => _vm.updateConfig('neutralScore', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.unfavoredScore,\"label\":\"Favored\"},on:{\"change\":v => _vm.updateConfig('unfavoredScore', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.stronglyUnfavoredScore,\"label\":\"Strongly Favored\"},on:{\"change\":v => _vm.updateConfig('stronglyUnfavoredScore', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.unavailableScore,\"label\":\"Unavailable\"},on:{\"change\":v => _vm.updateConfig('unavailableScore', v)}}),_c('v-divider'),_c('br'),_c('h5',[_vm._v(\"Student Preference Weights\")]),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.slotPreferenceFactor,\"label\":\"Timeslot Preference Factor\"},on:{\"change\":v => _vm.updateConfig('slotPreferenceFactor', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.groupPreferenceFactor,\"label\":\"Group Preference Factor\"},on:{\"change\":v => _vm.updateConfig('groupPreferenceFactor', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.consecutiveSessionFactor,\"label\":\"Consecutive Sessions Factor\"},on:{\"change\":v => _vm.updateConfig('consecutiveSessionFactor', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.multipleDayFactor,\"label\":\"Multiple Days Factor\"},on:{\"change\":v => _vm.updateConfig('multipleDayFactor', v)}}),_c('v-divider'),_c('br'),_c('h5',[_vm._v(\"Course Objectives\")]),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.multiTAExponent,\"label\":\"Multiple TAs per Group Exponent\"},on:{\"change\":v => _vm.updateConfig('multiTAExponent', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.multiTAFactor,\"label\":\"Multiple TAs per Group Factor\"},on:{\"change\":v => _vm.updateConfig('multiTAFactor', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.violationScore,\"label\":\"Violation Score\"},on:{\"change\":v => _vm.updateConfig('violationScore', v)}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":_vm.config.uncoveredScore,\"label\":\"Uncovered Session Score\"},on:{\"change\":v => _vm.updateConfig('uncoveredScore', v)}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import { SchedulingConfiguration } from '@/data';\n  import {Component, Vue} from 'vue-property-decorator'\n  import {State, Mutation} from 'vuex-class';\n\n  @Component({\n    components: {\n\n    }\n  })\n  export default class SchedulingConfigurationPage extends Vue {\n    @State('configuration') config!: SchedulingConfiguration;\n    @Mutation('setConfiguration') setConfig!: (payload: unknown) => void\n    updateConfig(key: string, val: number): void {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const newConfig: any = {...this.config};\n      newConfig[key] = val;\n      this.setConfig(newConfig);\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchedulingConfiguration.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchedulingConfiguration.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SchedulingConfiguration.vue?vue&type=template&id=783e4c2e&\"\nimport script from \"./SchedulingConfiguration.vue?vue&type=script&lang=ts&\"\nexport * from \"./SchedulingConfiguration.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"Wrap-Up\")]),_c('v-btn',{staticClass:\"spaced\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.download}},[_vm._v(\"Download State as JSON\")]),_c('br'),_c('v-btn',{staticClass:\"spaced\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.downloadTAXLSX}},[_vm._v(\"Download Teacher Spreadsheet\")]),_c('br'),_c('v-btn',{staticClass:\"spaced\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.downloadGroupXLSX}},[_vm._v(\"Download Group Spreadsheet\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { SchedulingState, Session, AssignedSession } from \"./data\";\nimport XLSX from 'xlsx';\nimport { computeScheduleInformation, ScheduleInformation } from \"./scheduling\";\nimport { compareSessions } from \"./utils\";\n\nexport function createTASpreadSheet(state: SchedulingState): XLSX.WorkBook {\n    const result = XLSX.utils.book_new();\n    result.Props = {\n        Title: 'Schedule for ' + state.instance.courseNames.join(', '),\n    };\n\n    const information = computeScheduleInformation(state.instance, state.taAvailability, state.currentAssignment, state.configuration);\n    const overviewTypeMap = computeGroupsPerTa(information, true);\n    const overviewGroupMap = computeGroupsPerTa(information);\n    const tas = [...overviewTypeMap.keys()].sort();\n\n    addOverviewSheet(result, [\n        {header: 'Group Types per TA', keys: tas, map: overviewTypeMap},\n        {header: 'Groups per TA', keys: tas, map: overviewGroupMap}\n    ]);\n\n    for (const [idx, availability] of state.taAvailability.entries()) {\n        const bundles = information.bundlesPerTa[idx];\n        const sessions: Session[] = [];\n        for (const bundle of bundles) {\n            for (const session of bundle.sessions) {\n                sessions.push(session);\n            }\n        }\n        sessions.sort(compareSessions);\n        const sheetArray: (string|Date)[][] = [['Start', 'End', 'Group', 'Location']];\n        for (const session of sessions) {\n            const start = new Date(session.timeSlot.start);\n            const end = new Date(session.timeSlot.end);\n            sheetArray.push([start.toLocaleString(),end.toLocaleString(), session.group.name, session.location]);\n        }\n        addSheet(result, sheetArray, `${idx+1}. ${availability.preferences.userId}`, [28, 28, 10, 35]);\n    }\n\n    return result;\n}\n\nfunction computeCourseGroupMap(info: ScheduleInformation): Map<string,Array<AssignedSession>> {\n    const result: Map<string,Array<AssignedSession>> = new Map();\n\n    for (const session of info.assignedSessions) {\n        const group = session.group.name;\n        if (result.has(group)) {\n            result.get(group)?.push(session);\n        }\n        else {\n            result.set(group, [session]);\n        }\n    }\n\n    for (const sessions of result.values()) {\n        sessions.sort(compareSessions);\n    }\n    \n    return result;\n}\n\nfunction computeGroupsPerTa(info: ScheduleInformation, groupType=false): Map<string,Map<string,number>> {\n    const result: Map<string,Map<string,number>> = new Map();\n\n    for (const session of info.assignedSessions) {\n        const ta = session.userId;\n        const group = groupType ? session.group.groupType : session.group.name;\n        let subMap = result.get(ta);\n        if (!subMap) {\n            subMap = new Map();\n            result.set(ta, subMap);\n        }\n        const count = subMap.get(group) || 0;\n        subMap.set(group, count + 1)\n    }\n\n    return result;\n}\n\nfunction computeTAsPerGroup(info: ScheduleInformation, groupType=false): Map<string,Map<string,number>> {\n    const result: Map<string,Map<string,number>> = new Map();\n\n    for (const session of info.assignedSessions) {\n        const group = groupType ? session.group.groupType : session.group.name;\n        let subMap = result.get(group);\n        if (!subMap) {\n            subMap = new Map();\n            result.set(group, subMap);\n        }\n        const count = subMap.get(session.userId) || 0;\n        subMap.set(session.userId, count + 1)\n    }\n\n    return result;\n}\n\nfunction addToSheetArray(categories: string[], sheetArray: string[][], map: Map<string,Map<string,number>>): void {\n    for (const cat of categories) {\n        sheetArray.push([cat]);\n        const subMap = map.get(cat);\n        if (!subMap) {\n            continue;\n        }\n        const subList = [...subMap.entries()];\n        subList.sort((a, b) => b[1]-a[1]);\n        for (const [userId, count] of subList) {\n            sheetArray.push([userId, `${count} sessions`]);\n        }\n        sheetArray.push([]); \n    }\n}\n\nfunction addSheet(wb: XLSX.WorkBook, sheetArray: (string|number|Date)[][], sheetName: string, width: number[]) {\n    wb.SheetNames.push(sheetName);\n    const sheet = XLSX.utils.aoa_to_sheet(sheetArray);\n    const colProps: {wch: number}[] = [];\n    for (const wch of width) {\n        colProps.push({wch});\n    }\n    sheet['!cols'] = colProps;\n    wb.Sheets[sheetName] = sheet;\n}\n\ninterface OverviewTask {\n    map: Map<string, Map<string,number>>;\n    header: string;\n    keys: string[];\n}\n\nfunction addOverviewSheet(wb: XLSX.WorkBook, tasks: OverviewTask[]) {\n    const sheetArray: string[][] = [];\n    for (const task of tasks) {\n        sheetArray.push([task.header]);\n        sheetArray.push([]);\n        addToSheetArray(task.keys, sheetArray, task.map);\n        sheetArray.push([]);\n    }\n    addSheet(wb, sheetArray, 'Overview', [25, 12]);\n}\n\nexport function createGroupSpreadSheet(state: SchedulingState): XLSX.WorkBook {\n    const result = XLSX.utils.book_new();\n    result.Props = {\n        Title: 'Schedule for ' + state.instance.courseNames.join(', '),\n    };\n\n    const information = computeScheduleInformation(state.instance, state.taAvailability, state.currentAssignment, state.configuration);\n    const map = computeCourseGroupMap(information);\n    const overviewTypeMap = computeTAsPerGroup(information, true);\n    const overviewGroupMap = computeTAsPerGroup(information);\n    const groups = [...map.keys()].sort();\n    const types = [...overviewTypeMap.keys()].sort();\n\n    addOverviewSheet(result, [\n        {header: 'Overview per Group Type', keys: types, map: overviewTypeMap},\n        {header: 'Overview per Group', keys: groups, map: overviewGroupMap}\n    ]);\n\n    // // Block to limit sheetArray's scope\n    // {\n    //     const sheetArray: string[][] = [['Overview per Group Type'], []];\n        \n    //     addToSheetArray(types, sheetArray, overviewTypeMap);\n        \n    //     sheetArray.push([]);\n    //     sheetArray.push(['Overview per Group']);\n    //     sheetArray.push([]);\n\n    //     addToSheetArray(groups, sheetArray, overviewGroupMap);\n    //     addSheet(result, sheetArray, 'Overview', [25, 12]);\n    // }\n\n    for (const [idx, group] of groups.entries()) {\n        const sheetArray: (string|Date)[][] = [['Start', 'End', 'Location', 'Teacher']];\n        const sessions = map.get(group);\n        if (sessions) {\n            for (const session of sessions) {\n                const start = new Date(session.timeSlot.start);\n                const end = new Date(session.timeSlot.end);\n                sheetArray.push([start.toLocaleString(),end.toLocaleString(), session.location, session.userId]);\n            }\n        }\n        addSheet(result, sheetArray, `${idx+1}. ${group}`, [28, 28, 35, 28]);\n    }\n\n    return result;\n}\n\nexport function downloadTASpreadsheet(state: SchedulingState): void {\n    const wb = createTASpreadSheet(state);\n    const filename = 'Schedule for ' + state.instance.courseNames[0].replaceAll(/[^A-Za-z0-9-_]/g,'_') + '.xlsx';\n    XLSX.writeFile(wb, filename);\n}\n\nexport function downloadGroupSpreadsheet(state: SchedulingState): void {\n    const wb = createGroupSpreadSheet(state);\n    const filename = 'Schedule for ' + state.instance.courseNames[0].replaceAll(/[^A-Za-z0-9-_]/g,'_') + '.xlsx';\n    XLSX.writeFile(wb, filename);\n}","\n  import {Component, Vue} from 'vue-property-decorator';\n  import {Getter} from 'vuex-class';\n  import {SchedulingState} from '@/data';\n  import {downloadSchedulingJson} from '@/utils'\n  import {downloadTASpreadsheet, downloadGroupSpreadsheet} from '@/export-sheet';\n\n  @Component\n  export default class WrapUp extends Vue {\n    @Getter('fullState') fullState!: SchedulingState\n    download(): void {\n      downloadSchedulingJson(this.fullState);\n    }\n    downloadTAXLSX(): void {\n      downloadTASpreadsheet(this.fullState);\n    }\n    downloadGroupXLSX(): void {\n      downloadGroupSpreadsheet(this.fullState);\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WrapUp.vue?vue&type=template&id=48dd6482&scoped=true&\"\nimport script from \"./WrapUp.vue?vue&type=script&lang=ts&\"\nexport * from \"./WrapUp.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WrapUp.vue?vue&type=style&index=0&id=48dd6482&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48dd6482\",\n  null\n  \n)\n\nexport default component.exports","\n\nimport {SchedulingInstance} from '@/data'\n\nimport {Component, Vue} from 'vue-property-decorator'\nimport {State} from 'vuex-class'\n\nimport Welcome from '@/components/scheduling/Welcome.vue';\nimport LoadTAPreferences from '@/components/scheduling/LoadTAPreferences.vue';\nimport TAEmployment from '@/components/scheduling/TAEmployment.vue';\nimport SchedulingTable from '@/components/scheduling/SchedulingTable.vue';\nimport SchedulingConfigurationPage from '@/components/scheduling/SchedulingConfiguration.vue'\nimport WrapUp from '@/components/scheduling/WrapUp.vue';\n\n@Component({\n  components: ({\n    Welcome,\n    loadtapreferences: LoadTAPreferences,\n    SchedulingTable,\n    employment: TAEmployment,\n    SchedulingConfigurationPage,\n    WrapUp\n  })\n})\nexport default class Scheduling extends Vue {\n  step = 1;\n  @State('instance') instance!: SchedulingInstance;\n  next(): void {\n    this.step++;\n  }\n  prev(): void {\n    this.step--;\n  }\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scheduling.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scheduling.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Scheduling.vue?vue&type=template&id=7195630a&\"\nimport script from \"./Scheduling.vue?vue&type=script&lang=ts&\"\nexport * from \"./Scheduling.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',[_c('v-main',[_c('v-container',{staticClass:\"text-left\"},[_c('v-row',[_c('v-col',[_c('v-stepper',{attrs:{\"non-linear\":\"\",\"vertical\":\"\"},model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"1\"}},[_vm._v(\"Introduction\")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('welcome'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"Next\")]),_vm._v(\"  \")],1),_c('v-stepper-step',{attrs:{\"editable\":\"\",\"step\":\"2\"}},[_vm._v(\"Wrap Up\")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('wrap-up'),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.prev}},[_vm._v(\"Back\")])],1)],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"Welcome\")]),_c('p',[_vm._v(\"In this part of the application you can convert scheduling data from a spreadsheet into an instance to use in this scheduling application.\")]),_c('h3',[_vm._v(\"Load Timetable Spreadsheet\")]),_c('FileDropZone',{attrs:{\"accept\":\".xlsx\",\"allowMultiple\":false},on:{\"change\":_vm.change}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator';\n  import FileDropZone from '@/components/util/FileDropZone.vue'\n  import {Mutation} from 'vuex-class'\n\n  import { read } from \"xlsx\";\n  import { workbookToInstance } from '@/handle-sheet';\n\n  @Component({\n      components: {\n          FileDropZone\n      }\n  })\n  export default class PrepareWelcom extends Vue {\n      \n      change(files: FileList|null):void {\n          if (files) {\n              for (const file of files) {\n                  const reader = new FileReader();\n                  reader.addEventListener('load', this.processFile);\n                  reader.readAsArrayBuffer(file);\n                  reader.readAsText(file);\n              }\n          }\n      }\n\n      @Mutation('setInstance') setInstance!: (payload: unknown) => void\n\n      processFile(ev: ProgressEvent<FileReader>): void {\n          const buffer = ev?.target?.result as ArrayBuffer;\n          if (buffer) {\n              try {\n                  const data = new Uint8Array(buffer);\n                  console.log(data);\n                  const workbook = read(data, {type: 'array', cellDates: true});\n                  const instance = workbookToInstance(workbook);\n                  console.log(instance);\n                  this.setInstance(instance);\n              }\n              catch (err) {\n                  console.log(err);\n              }\n          }\n      }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Welcome.vue?vue&type=template&id=5dbdf480&scoped=true&\"\nimport script from \"./Welcome.vue?vue&type=script&lang=ts&\"\nexport * from \"./Welcome.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Welcome.vue?vue&type=style&index=0&id=5dbdf480&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dbdf480\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"Wrap-Up\")]),_c('v-btn',{staticClass:\"spaced\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.download}},[_vm._v(\"Download Scheduling Instance as JSON\")]),_c('br'),_c('v-btn',{staticClass:\"spaced\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.copyText}},[_vm._v(\"Copy invitation text to invite TA's to fill in a scheduling survey\")]),_c('br'),_c('v-btn',{staticClass:\"spaced\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.copyLink}},[_vm._v(\"Copy link to Preference Survey\")])],1)],1),_c('v-snackbar',{attrs:{\"centered\":\"\",\"timeout\":3000},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import {Component, Vue} from 'vue-property-decorator';\n  import {State} from 'vuex-class';\n  import {SchedulingInstance} from '@/data';\n  import {downloadInstanceJson} from '@/utils';\n\n  import { Base64 } from 'js-base64';\n  import copyToClipboard from 'copy-to-clipboard';\n\n  @Component\n  export default class WrapUp extends Vue {\n    snackbar = false\n    snackbarText = ''\n\n    @State('instance') instance!: SchedulingInstance\n    get instanceHash(): string {\n      const jsonString = JSON.stringify(this.instance);\n      return Base64.encode(jsonString);\n    }\n    get instanceLink(): string {\n      const origin = window.location.origin;\n      return origin + '#' + this.instanceHash;\n    }\n    download(): void {\n      downloadInstanceJson(this.instance);\n    }\n    copyLink(): void {\n      copyToClipboard(this.instanceLink); \n      this.snackbar = true;\n      this.snackbarText = 'Link copied to the clipboard. You can share this link with your teaching assistants.';\n    }\n    copyText(): void {\n      const text = `<p>Dear teaching assistant,</p>\n      <p>we are currently collecting your scheduling preferences for the course(s) ${this.instance.courseNames.join(', ')}.\n      Please follow <a href=\"${this.instanceLink}\" target=\"_blank\">this link</a> and provide your preferences.</p>\n      <p>Once your have finished filling in your preferences in this tool, you will receive a JSON file containing your preferences.\n        Please respond to this email with this JSON file as an attachment.</p>\n        <p>Kind regards,</p>\n        <p>The teacher</p>`; \n      copyToClipboard(text, { format: 'text/html'});\n      this.snackbar = true;\n      this.snackbarText = 'Text copied to the clipboard. You can paste this text into an e-mail to your teaching assistants.';\n    }\n  }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WrapUp.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WrapUp.vue?vue&type=template&id=1d76de7f&scoped=true&\"\nimport script from \"./WrapUp.vue?vue&type=script&lang=ts&\"\nexport * from \"./WrapUp.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WrapUp.vue?vue&type=style&index=0&id=1d76de7f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d76de7f\",\n  null\n  \n)\n\nexport default component.exports","\n\nimport Welcome from '@/components/prepare/Welcome.vue'\n// import Capabilities from '@/components/preferences/Capabilities.vue';\n// import SlotPreferences from '@/components/preferences/SlotPreferences.vue';\n// import GroupPreferences from '@/components/preferences/GroupPreferences.vue';\n// import ConsecutivePreferences from '@/components/preferences/ConsecutivePreferences.vue';\n// import DifferentDaysPreferences from '@/components/preferences/DifferentDaysPreference.vue';\nimport WrapUp from '@/components/prepare/WrapUp.vue';\n\nimport {SchedulingInstance} from '@/data'\n\nimport {Component, Vue} from 'vue-property-decorator'\nimport {State} from 'vuex-class'\n\n@Component({\n  components: {\n    Welcome,\n    // Capabilities,\n    // SlotPreferences,\n    // GroupPreferences,\n    // ConsecutivePreferences,\n    // DifferentDaysPreferences,\n    WrapUp\n  }\n})\nexport default class App extends Vue {\n  step = 1;\n  @State('instance') instance!: SchedulingInstance;\n  isActive(step: number): boolean {\n    if (this.instance) {\n      if (this.instance.askSlots.length == 0 && step == 3) {\n        return false;\n      }\n      if (!this.instance.askGroupTypes && step == 4) {\n        return false;\n      }\n      if (!this.instance.askConsecutiveSessions && step == 5) {\n        return false;\n      }\n      if (!this.instance.askDifferentDays && step == 6) {\n        return false;\n      }\n    }\n    return true;\n  }\n  next(): void {\n    this.step++;\n    while (!this.isActive(this.step)) {\n      this.step++;\n    }\n  }\n  prev(): void {\n    this.step--;\n    while (!this.isActive(this.step)) {\n      this.step--;\n    }\n  }\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prepare.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prepare.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Prepare.vue?vue&type=template&id=06c1f0e5&\"\nimport script from \"./Prepare.vue?vue&type=script&lang=ts&\"\nexport * from \"./Prepare.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter, { RouteConfig } from 'vue-router'\nimport Preferences from '@/views/Preferences.vue'\nimport Scheduling from '@/views/Scheduling.vue'\nimport Prepare from '@/views/Prepare.vue'\n\nVue.use(VueRouter)\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Preferences\n  },\n  {\n    path: '/scheduling',\n    name: 'Scheduling',\n    component: Scheduling\n  },\n  {\n    path: '/prepare',\n    name: 'Prepare',\n    component: Prepare\n  }\n  // {\n  //   path: '/about',\n  //   name: 'About',\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  // }  \n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\nimport router from './router'\n\nimport { Base64 } from 'js-base64'\n\nVue.config.productionTip = false\n\nnew Vue({\n  store,\n  vuetify,\n  router,\n  render: h => h(App)\n}).$mount('#app')\n\nfunction updateHash() {\n  const hash = window.location.hash.substring(1);\n  if (hash.length > 0) {\n    try {\n      const data = Base64.decode(hash);\n      store.dispatch('loadInstance', {data});\n    }\n    catch (e) {\n      console.log(e);\n    }\n  }\n  else {\n    store.dispatch('loadInstance', {url: 'instance.json'})\n  }\n}\n\nwindow.addEventListener('hashchange', updateHash);\nupdateHash();\n\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TADetails.vue?vue&type=style&index=0&id=16bb30ac&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropZone.vue?vue&type=style&index=0&id=e2269cb2&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadTAPreferences.vue?vue&type=style&index=0&id=48bd8ce0&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=style&index=0&id=7bad4297&prod&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=5803021b&prod&lang=scss&\""],"sourceRoot":""}